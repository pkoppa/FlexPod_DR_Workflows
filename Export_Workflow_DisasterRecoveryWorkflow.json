[{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Platforms supported for storage target devices","Label":"Storage Platform Type","Name":"StoragePlatformType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type for storage target device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Storage Platform Type","Name":"StoragePlatformType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Pure FlashArray","ObjectType":"workflow.EnumEntry","Value":"storage.PureArray"},{"Label":"Hitachi Virtual Storage Platform","ObjectType":"workflow.EnumEntry","Value":"storage.HitachiArray"},{"Label":"NetApp Active IQ Unified Manager","ObjectType":"workflow.EnumEntry","Value":"storage.NetAppCluster"},{"Label":"None","ObjectType":"workflow.EnumEntry","Value":"None"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Volume name.","Label":"Storage Volume","Name":"StorageVolumeNameType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume name","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([_a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(((IndexMotypes eq storage.BaseVolume) and ( ObjectType ne storage.NetAppLun)) or (IndexMotypes eq storage.BaseStorageContainer) )&$orderby=Name&$select=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Hitachi Volume Option.","Label":"Hitachi Volume Option","Name":"HitachiVolumeOptionType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"To specify when creating a virtual volume.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Pool Id","Name":"PoolId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":5,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9]{1,5}"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"To specify when creating a basic volume.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parity Group","Name":"ParityGroupId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"To specify label for volume","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Label","Name":"VolumeLabel","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Whether to enable the capacity saving function (dedupe and compression)","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Data Reduction Mode","Name":"DataReductionMode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"compression","ObjectType":"workflow.EnumEntry","Value":"compression"},{"Label":"compression_deduplication","ObjectType":"workflow.EnumEntry","Value":"compression_deduplication"},{"Label":"disabled","ObjectType":"workflow.EnumEntry","Value":"disabled"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"NFS Volume Options.","Label":"NFS Volume Options","Name":"NfsVolumeOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"Nfs","EnableParameters":["MountPath"],"Name":"show-mountpath","ObjectType":"workflow.ParameterSet","Value":"true"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If set to true, NFS volume will be created and if set to false, SAN volume will be created. ","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NFS","Name":"Nfs","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Mount path for the volume eg. /volume3","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Mount Path","Name":"MountPath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage Vendor Volume Options.","Label":"Storage Vendor Volume Options","Name":"StorageVendorVolumeOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["HitachiVolumeOptions"],"Name":"show-hitachi","ObjectType":"workflow.ParameterSet","Value":"storage.HitachiArray"},{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["VolumeName"],"Name":"show-pure","ObjectType":"workflow.ParameterSet","Value":"storage.PureArray"},{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["VolumeName","NfsVolumeOptions"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Storage device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Hitachi Volume Option","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hitachi Volume Option","Name":"HitachiVolumeOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HitachiVolumeOptionType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"NFS Volume Option","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NFS Volume Option","Name":"NfsVolumeOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"NfsVolumeOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage capacity.","Label":"Storage Capacity","Name":"StorageCapacityType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Size must be a number (used in conjunction with Unit).","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Size","Name":"VolumeSize","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":19,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9]{1,19}"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Unit is a string with a single character unit symbol. Valid unit symbols are K, M, G, T, and P representing Bytes, Kilobyte, Megabyte, Gigabyte, Terabyte, and Petabyte respectively, where one Kilobyte equals 1024 Bytes, one Megabyte equals 1048576 Bytes and so on.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Unit","Name":"VolumeUnit","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"KiB","ObjectType":"workflow.EnumEntry","Value":"K"},{"Label":"MiB","ObjectType":"workflow.EnumEntry","Value":"M"},{"Label":"GiB","ObjectType":"workflow.EnumEntry","Value":"G"},{"Label":"TiB","ObjectType":"workflow.EnumEntry","Value":"T"},{"Label":"PiB","ObjectType":"workflow.EnumEntry","Value":"P"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Datacenter","Label":"Datacenter","Name":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseDatacenter)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Cluster.","Label":"Cluster","Name":"HypervisorClusterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseCluster)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Type and version of datastore.","Label":"Types of Datastore","Name":"HypervisorDatastoreVersionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"VMFSVersion","EnableParameters":["Disk"],"Name":"rule-1","ObjectType":"workflow.ParameterSet","Value":"VMFS5"},{"Condition":"eq","ControlParameter":"VMFSVersion","EnableParameters":["Disk"],"Name":"rule-2","ObjectType":"workflow.ParameterSet","Value":"VMFS6"},{"Condition":"eq","ControlParameter":"VMFSVersion","EnableParameters":["RemotePath","RemoteHostNames","AccessMode"],"Name":"rule-3","ObjectType":"workflow.ParameterSet","Value":"NFS"},{"Condition":"eq","ControlParameter":"VMFSVersion","EnableParameters":["RemotePath","RemoteHostNames","AccessMode","SecurityType"],"Name":"rule-4","ObjectType":"workflow.ParameterSet","Value":"NFS41"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type and version of datastore","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Type of Datastore","Name":"VMFSVersion","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"VMFS-6","ObjectType":"workflow.EnumEntry","Value":"VMFS6"},{"Label":"VMFS-5","ObjectType":"workflow.EnumEntry","Value":"VMFS5"},{"Label":"NFS3","ObjectType":"workflow.EnumEntry","Value":"NFS"},{"Label":"NFS4.1","ObjectType":"workflow.EnumEntry","Value":"NFS41"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Canonical disk (also called NaaId) that backs the datastore (example: 6cc167e972c4928023401a54db995b66).","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Disk","Name":"Disk","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The remote path of the NFS mount point.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Remote Path","Name":"RemotePath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The hostnames or IP addresses of remote NFS server. In case of NFS v4.1 this may have multiple entries.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NFS Server Address","Max":32,"Min":1,"Name":"RemoteHostNames","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Access mode for the NFS server. Select read-only if volume is exported as read-only.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Access Mode","Name":"AccessMode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Read Write","ObjectType":"workflow.EnumEntry","Value":"readWrite"},{"Label":"Read Only","ObjectType":"workflow.EnumEntry","Value":"readOnly"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Security for the NFS datastore. Default is the basic AUTH_SYS security.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Security type","Name":"SecurityType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Default Security","ObjectType":"workflow.EnumEntry","Value":"AUTH_SYS"},{"Label":"Kerberos for authentication only","ObjectType":"workflow.EnumEntry","Value":"SEC_KRB5"},{"Label":"Kerberos with Data Integrity","ObjectType":"workflow.EnumEntry","Value":"SEC_KRB5I"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Adding Variables to the Terraform Workspace","Label":"Terraform Add Variables Options","Name":"TerraformAddVariablesOptions","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"VariableType","EnableParameters":["AddTerraformVariables"],"Name":"NonSensitiveVariables","ObjectType":"workflow.ParameterSet","Value":"NonSensitiveVariables"},{"Condition":"eq","ControlParameter":"VariableType","EnableParameters":["AddSensitiveTerraformVariables"],"Name":"SensitiveVariables","ObjectType":"workflow.ParameterSet","Value":"SensitiveVariables"},{"Condition":"eq","ControlParameter":"VariableType","EnableParameters":["AddTerraformVariables","AddSensitiveTerraformVariables"],"Name":"Both","ObjectType":"workflow.ParameterSet","Value":"Both"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of variables to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable Type","Name":"VariableType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Non Sensitive Variables","ObjectType":"workflow.EnumEntry","Value":"NonSensitiveVariables"},{"Label":"Sensitive Variables","ObjectType":"workflow.EnumEntry","Value":"SensitiveVariables"},{"Label":"Both","ObjectType":"workflow.EnumEntry","Value":"Both"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Variables to be added to the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Add Terraform Variables","Max":100,"Name":"AddTerraformVariables","ObjectType":"workflow.ArrayDataType"},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive Variables to be added to the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Add Sensitive Terraform Variables","Max":100,"Name":"AddSensitiveTerraformVariables","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","Description":"Create a storage volume with volume name and volume size as inputs. Generates the volume name and volume size as outputs.","Label":"New Storage Volume","Name":"NewStorageVolume","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq PureStorageFlashArray"}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume size and unit.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Capacity","Name":"VolumeCapacity","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageCapacityType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Size","Name":"VolumeSize","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":20,"Min":2,"ObjectType":"workflow.Constraints","Regex":"[0-9]{1,19}[bkmgtpBKMGTP]"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":1,"RetryDelay":100,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.PureStorageFlashArray","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Storage target device","Label":"Storage Target Datatype","Name":"StorageTargetDataType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage target device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"RegisteredDevice.Moid","ConstraintAttributes":["ObjectType"],"DisplayAttributes":["Name","SvpIp","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq storage.BaseArray)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["storage.PureArray","storage.HitachiArray","storage.NetAppCluster"]}],"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage Vendor Virtual Machine name.","Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["StorageVirtualMachineName"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Storage device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"StorageVirtualMachineName can be between 1 and 47 characters long depending on the device target selected it may vary and with first character being alphanumeric or underscore (_) and containing alphanumeric characters and \".\", \"-\" or \"_\" allowed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":47,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppStorageVms?$orderby=Name&$select=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add an export policy to a volume with storage virtual machine name, volume name, export policy name as the inputs. On successful execution volume name and export policy added are generated as outputs.","Label":"Add Storage Export Policy to Volume","Name":"AddStorageExportPolicyToVolume","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"VolumeName can be between 1 and 254 characters long depending on the device target selected it may vary, name should start with an alphabetic letter (A through Z or a through z). The remaining characters should be A through Z, a through z, 0 through 9, or special characters \"_\"","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppVolumes?$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppExportPolicies?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Hypervisor Host.","Label":"Host","Name":"HypervisorHostType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":255,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^(([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|(([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{0,4}|:[0-9A-Fa-f]{1,4})?|(:[0-9A-Fa-f]{1,4}){0,2})|(:[0-9A-Fa-f]{1,4}){0,3})|(:[0-9A-Fa-f]{1,4}){0,4})|:(:[0-9A-Fa-f]{1,4}){0,5})((:[0-9A-Fa-f]{1,4}){2}|:(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])(\\\\.(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])){3})|(([0-9A-Fa-f]{1,4}:){1,6}|:):[0-9A-Fa-f]{0,4}|([0-9A-Fa-f]{1,4}:){7}:)|[a-zA-Z0-9]+([a-zA-Z0-9-._]*[a-zA-Z0-9]))$"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseHost)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Datastore.","Label":"Datastore","Name":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseDatastore)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove datastore from selected hypervisor. Requires datacenter, cluster (or host), datastore as inputs. On successful execution, the datastore name, NaaId of the deleted datastore, and the LUN number are generated as outputs.","Label":"Remove Hypervisor Datastore","Name":"RemoveHypervisorDatastore","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter associated with the datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which the datastore is hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the datastore is hosted. If cluster is specified, then host will be ignored.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the datastore to be removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the datastore that was removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Disk associated with the datastore that was removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Disk name","Name":"NAAId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN number of the datastore that was removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Number","Name":"LUNNumber","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":1,"RetryDelay":100,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":180,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Virtualization"},{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create a new datastore on selected hypervisor. Requires datacenter, cluster (or host), and datastore. For VMFS, the canonical disk name, and VMFS version inputs are needed. For NFS, remote server and mount path, and NFS version are needed. On successful execution, the datastore name, disk name, VMFS version, and datacenter name are generated as outputs.","Label":"New Hypervisor Datastore","Name":"NewHypervisorDatastore","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter associated with the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which the datastore will be hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the datastore will be hosted. If cluster is specified, then host will be ignored.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name for the new datastore, limited to 42 characters.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^.{1,42}$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type and version of the new datastore. Minimum datastore size: VMFS 5 - 1.3GB, VMFS 6 - 2GB. Kerberos support is enabled in NFS4.1 only.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Type of Datastore","Name":"DatastoreVersion","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreVersionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the newly created datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter associated with the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VMFS Version","Name":"VMFSVersion","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore Type","Name":"DatastoreType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which the datastore will be hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the datastore will be hosted. If cluster is specified, then host will be ignored.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Disk identity of the newly created datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Disk","Name":"Disk","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":1,"RetryDelay":100,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":300,"TimeoutPolicy":"Retry"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove Hypervisor Datastore ","InputParameters":{"Cluster":"${task.input.Cluster}","Datacenter":"${task.input.Datacenter}","Datastore":"${task.input.Datastore}","Host":"${task.input.Host}","Vcenter":"${task.input.Vcenter}"},"Name":"RemoveHypervisorDatastore","ObjectType":"workflow.RollbackTask","Version":1}],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Virtualization"},{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Fetches the Workspace ID, Organization Name and other configuration for the given Workspace","Label":"Get Terraform Workspace Details","Name":"GetTerraformWorkspaceDetails","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform target Type","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcOrganizations","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity","Organization.Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcWorkspaces?$expand=Organization","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Organization Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Organization Name","Name":"OrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Name","Name":"WorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Auto Apply","Name":"WorkspaceAutoApply","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Apply Method","Name":"ApplyMethod","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the agent pool associated with the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Agent Pool ID","Name":"AgentPoolId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the agent pool associated with the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Agent Pool Name","Name":"AgentPoolName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Execution mode configured in the workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Mode Configured","Name":"ExecutionMode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"User Interface configuration of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"User Interface","Name":"UserInterface","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform Workspace variable type","Label":"Terraform Input Variable Type","Name":"TerraformInputVariableType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform variable key can only contain letters, numbers, underscores and hyphens","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Value of the terraform variable","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Description of the terraform variable","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Description","Name":"Description","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove Variable from Terraform Workspace","Label":"Remove Terraform Variable","Name":"RemoveTerraformVariable","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformAddVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The ID of the variable fetched","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable ID","Name":"VariableId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add variable to Terraform Workspace","Label":"Add Terraform Variable","Name":"AddTerraformVariable","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Add Variable","Name":"TerraformAddVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove a Terraform Variable","InputParameters":{"TerraformAddVariable":"${task.input.TerraformAddVariable}","TerraformCloudTarget":"${task.input.TerraformCloudTarget}","WorkspaceId":"${task.input.WorkspaceId}"},"Name":"RemoveTerraformVariable","ObjectType":"workflow.RollbackTask","Version":1}],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Adds a non-sensitive variable to the Terraform Workspace","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformAddVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"InputParameterSet":[],"Label":"Add Terraform Variable","Name":"AddNewTerraformVariable","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"OutputParameters":{},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"AddTerraformVariable","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Add Terraform Variable","InputParameters":{"TerraformAddVariable":"${workflow.input.TerraformAddVariable}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"${workflow.input.WorkspaceId}"},"Label":"Add Variable","Name":"AddTerraformVariable","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"AddTerraformVariable","Version":1}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform Workspace sensitive variable type","Label":"Terraform Sensitive Input Variable Type","Name":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform variable key can only contain letters, numbers, underscores and hyphens","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Value of the terraform variable","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Description of the terraform variable","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Description","Name":"Description","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove Sensitive Variable from Terraform Workspace","Label":"Remove Terraform Sensitive Variable","Name":"RemoveTerraformSensitiveVariable","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformAddSensitiveVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The ID of the variable fetched","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable ID","Name":"VariableId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add sensitive variable to Terraform Workspace","Label":"Add Terraform Sensitive Variable","Name":"AddTerraformSensitiveVariable","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive Terraform variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Sensitive Terraform Variable","Name":"TerraformAddSensitiveVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove a Terraform Sensitive Variable","InputParameters":{"TerraformAddSensitiveVariable":"${task.input.TerraformAddSensitiveVariable}","TerraformCloudTarget":"${task.input.TerraformCloudTarget}","WorkspaceId":"${task.input.WorkspaceId}"},"Name":"RemoveTerraformSensitiveVariable","ObjectType":"workflow.RollbackTask","Version":1}],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Adds a sensitive variable to the Terraform Workspace","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive terraform variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Sensitive terraform variable","Name":"TerraformAddSensitiveVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"InputParameterSet":[],"Label":"Add Terraform Sensitive Variable","Name":"AddNewTerraformSensitiveVariable","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"OutputParameters":{},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"AddTerraformSensitiveVariable","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Add Sensitive Variable to the Terraform Workspace","InputParameters":{"TerraformAddSensitiveVariable":"${workflow.input.TerraformAddSensitiveVariable}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"${workflow.input.WorkspaceId}"},"Label":"Add Terraform Sensitive Variable","Name":"AddTerraformSensitiveVariable","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"AddTerraformSensitiveVariable","Version":1}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Adds variables to a Terraform Workspace","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcOrganizations","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcWorkspaces","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Add Variables","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Add Variables Options","Name":"AddVariablesOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformAddVariablesOptions","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"InputParameterSet":[],"Label":"Add Terraform Variables","Name":"AddTerraformVariables","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"WorkspaceId","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"WorkspaceId":"{{ .global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","Retryable":true,"SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"AddAllVariables","TaskDefinitionName":"GetTerraformWorkspaceDetails","Version":1},{"Count":"{{ len .global.workflow.input.AddVariablesOptions.AddTerraformVariables }}","Description":"Add all the Variables to the Terraform Workspace","Label":"Add All Variables ","LoopStartTask":"AddTerraformVariable","Name":"AddAllVariables","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"AddAllSensitiveVariables","Parallel":true},{"CatalogMoid":"shared","Description":"Add a Terraform Variable","InputParameters":{"TerraformAddVariable":"{{ index .global.workflow.input.AddVariablesOptions.AddTerraformVariables .iteration | ToJson}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Label":"Add Terraform Variable","Name":"AddTerraformVariable","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"AddNewTerraformVariable"},{"Count":"{{ len .global.workflow.input.AddVariablesOptions.AddSensitiveTerraformVariables }}","Description":"Add all the Sensitive Variables to the Terraform Workspace","Label":"Add All Sensitive Variables","LoopStartTask":"AddTerraformSensitiveVariable","Name":"AddAllSensitiveVariables","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"SuccessEndTask","Parallel":true},{"CatalogMoid":"shared","Description":"Add a Sensitive Terraform Variable","InputParameters":{"TerraformAddSensitiveVariable":"{{ index .global.workflow.input.AddVariablesOptions.AddSensitiveTerraformVariables .iteration | ToJson}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Label":"Add Terraform Sensitive Variable","Name":"AddTerraformSensitiveVariable","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"AddNewTerraformSensitiveVariable"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[{"Filters":["Organization.Moid eq '${TerraformOrganizationName.Moid}'"],"Name":"TerraformWorkspaceName","ObjectType":"workflow.UiInputFilter","UserHelpMessage":"Select 'Terraform Organization Name' before selecting 'Terraform Workspace Name'"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Starts a new plan or destroys a plan in the given Terraform Workspace","Label":"Start New Terraform Plan","Name":"StartNewTerraformPlan","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Reason for starting the plan","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Reason for starting plan","Name":"ReasonForStartingPlan","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"false"},"Description":"Action of the plan - new plan / destroy plan","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Plan Operation","Name":"PlanOperation","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"new plan","ObjectType":"workflow.EnumEntry","Value":"false"},{"Label":"destroy","ObjectType":"workflow.EnumEntry","Value":"true"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the triggered Run","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run ID","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Label":"Sleep Task","Name":"InvokeSleepTask","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Sleep Time in Seconds","Name":"SleepTimeInSec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":600,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"CoreTasks"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Executing terraform apply run","Label":"Confirm and Apply Terraform Run","Name":"ConfirmTerraformRun","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Run which needs confirmation","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run ID","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"The execution mode to be used","Label":"Execution Mode Options","Name":"TerraformCreateWorkspaceExecutionModeOptions","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"ExecutionMode","EnableParameters":["AgentPool"],"Name":"AgentPool","ObjectType":"workflow.ParameterSet","Value":"agent"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The execution mode to be used","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"ExecutionMode","Name":"ExecutionMode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"remote","ObjectType":"workflow.EnumEntry","Value":"remote"},{"Label":"local","ObjectType":"workflow.EnumEntry","Value":"local"},{"Label":"agent","ObjectType":"workflow.EnumEntry","Value":"agent"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Choose the agent pool which belongs to the selected 'Terraform Organisation Name'","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Agent Pool","Name":"AgentPool","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity","Organization.Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcAgentpools?$expand=Organization","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Identity"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Workspaces with no Terraform working directory will always trigger runs.","Label":"Terraform VCS Workspace Automatic Run Inputs","Name":"TerraformVCSWorkspaceAutomaticRunInputs","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"AutomaticRunTriggering","EnableParameters":["TriggerForSpecificPaths"],"Name":"AutomaticRunTriggeringInputs","ObjectType":"workflow.ParameterSet","Value":"FilesInSpecificPathsChange"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Automatic Run Triggering will be honoured only when the \"Terraform Working Directory\" is set","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Automatic Run Triggering Options","Name":"AutomaticRunTriggering","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Always Trigger Runs","ObjectType":"workflow.EnumEntry","Value":"AlwaysTriggerRuns"},{"Label":"Only trigger runs when files in specified paths change","ObjectType":"workflow.EnumEntry","Value":"FilesInSpecificPathsChange"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Add path","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Add path","Max":512,"Name":"TriggerForSpecificPaths","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform VCS Workspace Inputs","Label":"Choose repository and configure settings","Name":"TerraformVCSWorkspaceInputs","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"A reference to the VCS repository. Eg. acme-corp/infrastructure","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Repository Name","Name":"RepositoryName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The VCS Connection (OAuth Connection + Token) to use. This ID can be obtained from the oauth-tokens endpoint.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Oauth Token ID","Name":"OauthTokenId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The directory that Terraform will execute within. This defaults to the root of your repository and is typically set to a subdirectory matching the environment when multiple environments exist within the same repository.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Working Directory","Name":"TerraformWorkingDirectory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Automatic Run Triggering","Name":"AutomaticRunTriggering","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformVCSWorkspaceAutomaticRunInputs","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Checking this box will trigger speculative plans for pull requests to this repository","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Automatic Speculative Plans","Name":"AutomaticSpeculativePlans","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The branch from which to import new versions. This defaults to the value your version control provides as the default branch for this repository.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VCS Branch","Name":"VCSBranch","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Checking this box will perform a recursive clone of your repositories submodules, making them available in the resulting slug containing your Terraform configuration. Recursive clone is performed with --depth 1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Include submodules on clone","Name":"IncludeSubmodulesOnClone","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Creating different types of workspace","Label":"Terraform Create Workspace Type Options","Name":"TerraformCreateWorkspaceTypeOptions","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"WorkspaceType","EnableParameters":["VCSRepo"],"Name":"VCSWorkspace","ObjectType":"workflow.ParameterSet","Value":"VCSWorkspace"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of workspace to be created","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Choose your workflow","Name":"WorkspaceType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Version control workflow","ObjectType":"workflow.EnumEntry","Value":"VCSWorkspace"},{"Label":"CLI-driven workflow","ObjectType":"workflow.EnumEntry","Value":"CLIWorkspace"},{"Label":"API-driven workflow","ObjectType":"workflow.EnumEntry","Value":"APIWorkspace"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Choose repository and configure settings","Name":"VCSRepo","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformVCSWorkspaceInputs","ObjectType":"workflow.CustomDataProperty"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Delete the Workspace from Terraform Cloud","Label":"Remove Terraform Workspace","Name":"RemoveTerraformWorkspace","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcOrganizations","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity","Organization.Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcWorkspaces?$expand=Organization","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Creating a Terraform Workspace","Label":"Add Terraform Workspace","Name":"AddTerraformWorkspace","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/TfcOrganizations","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes, and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Name","Name":"WorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9-_]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Description of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Description","Name":"WorkspaceDescription","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The execution mode to be used","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Mode","Name":"ExecutionMode","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformCreateWorkspaceExecutionModeOptions","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"false"},"Description":"Whether to automatically apply changes when a Terraform plan is successful. Will default to 'Manual Apply' if 'Execution Mode' selected is local","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Apply Method","Name":"ApplyMethod","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Auto Apply","ObjectType":"workflow.EnumEApply Method configuration of the Workspacentry","Value":"true"},{"Label":"Manual Apply","ObjectType":"workflow.EnumEntry","Value":"false"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"false"},"Description":"Checking this box will share the Workspace state with the entire organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Share State Globally","Name":"ShareStateGlobally","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"true"},"Description":"Whether to use the default advanced run user interface or switch to traditional console-based run logs. Will default to 'Structured Run Output' if 'Execution Mode' selected is local","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"User Interface","Name":"UserInterface","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Structured Run Output","ObjectType":"workflow.EnumEntry","Value":"true"},{"Label":"Console UI","ObjectType":"workflow.EnumEntry","Value":"false"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of workspace to be created","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Choose your workflow","Name":"AddWorkspaceOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformCreateWorkspaceTypeOptions","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the Workspace created","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Workspace created","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Name","Name":"WorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The Terraform Organization to which the Workspace belongs to","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Organization Name","Name":"OrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The type of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace workflow type","Name":"WorkspaceWorkflowType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Execution Mode configuration of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Mode","Name":"ExecutionMode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the agent pool associated with the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Agent Pool ID","Name":"AgentPoolId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the agent pool associated with the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Agent Pool Name","Name":"AgentPoolName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"User Interface configuration of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"User Interface","Name":"UserInterface","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configuration of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Apply Method","Name":"ApplyMethod","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Auto Apply","Name":"WorkspaceAutoApply","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"UI Interface configured in the workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Structured Run Output Enabled","Name":"StructuredRunOutputEnabled","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Removes a Terraform Workspace","InputParameters":{"TerraformCloudTarget":"${task.input.TerraformCloudTarget}","TerraformOrganizationName":"${task.output.OrganizationName}","TerraformWorkspaceName":"${task.input.WorkspaceName}"},"Name":"RemoveTerraformWorkspace","ObjectType":"workflow.RollbackTask","Version":1}],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Workflow which creates  and  configures SnapMirror between FlexPod Storage and Cloud Volumes ONTAP","InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":{"NfsVolumeOptions":{"MountPath":"/Test_Vol1","Nfs":true},"PlatformType":"storage.NetAppCluster","VolumeName":"Test_Vol1"}},"Description":"Storage Vendor Volume Options","DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Vendor Volume Options","Name":"StorageVendorVolumeOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVolumeOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":{"VolumeSize":"100","VolumeUnit":"G"}},"Description":"Volume size and unit.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Capacity","Name":"VolumeCapacity","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageCapacityType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"/BB09-DC"},"Description":"Datacenter associated with the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"/BB09-DC/host/BB09-FlexPod-MGMT"},"Description":"Cluster on which the datastore will be hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"Test_Vol1"},"Description":"Name for the new datastore, limited to 42 characters.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^.{1,42}$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":{"AccessMode":"readWrite","RemoteHostNames":["192.168.55.18"],"RemotePath":"/Test_Vol1","VMFSVersion":"NFS"}},"Description":"Type and version of the new datastore. Minimum datastore size: VMFS 5 - 1.3GB, VMFS 6 - 2GB. Kerberos support is enabled in NFS4.1 only.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Type of Datastore","Name":"DatastoreVersion","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreVersionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"cvo_snapmirror"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes, and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Name","Name":"WorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9-_]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"Workspace to create CVO and configure SnapMirror"},"Description":"Description of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Description","Name":"WorkspaceDescription","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":{"AddTerraformVariables":[{"Description":"Name of the On-premise ONTAP","Key":"name_of_on-prem-ontap","Value":"bb09-a300-1"},{"Description":"The ip address of the storage cluster management interface","Key":"on-prem-ontap_cluster_ip","Value":"192.168.166.20"},{"Description":"Admin user name for the storage cluster","Key":"on-prem-ontap_user_name","Value":"admin"},{"Description":"AWS region where the working environment will be created","Key":"region","Value":"us-west-1"},{"Description":"The subnet id where the working environment will be created","Key":"subnet","Value":"subnet-0ce7889cf1848fa75"},{"Description":"The VPC ID where the working environment will be created","Key":"vpc_id","Value":"vpc-05096699a4a5a1bce"},{"Description":"The type of license to use","Key":"license_type","Value":"cot-standard-paygo"},{"Description":"The name of the source volume","Key":"source_volume","Value":"Test_Vol1"},{"Description":"The name of the source SVM","Key":"source_storage_vm_name","Value":"SVM_CVO_Integration"},{"Description":"Name of volume on CVO","Key":"destination_volume","Value":"dr_dest_volume_on_aws"},{"Description":"The default is 1hour","Key":"schedule_of_replication","Value":"10min"},{"Description":"Name of the cloud volume","Key":"name_of_volume_to_create_on_cvo","Value":"test_cvo_volume"},{"Description":"The name of the Cloud Volumes ONTAP working environment","Key":"name_of_cvo_cluster","Value":"dr_dest_cvo_on_aws"}],"VariableType":"NonSensitiveVariables"}},"Description":"Add Variables","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variables","Name":"TerraformVariables","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformAddVariablesOptions","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":{"AddSensitiveTerraformVariables":[{"Description":"Refresh token. Obtain it from: https://services.cloud.netapp.com/refresh-token","IsValueSet":true,"Key":"cloudmanager_refresh_token"},{"Description":"The client ID of the Cloud Manager Connector. Get it from https://cloudmanager.netapp.com","IsValueSet":true,"Key":"connector_id"},{"Description":"The admin password for Cloud Volumes ONTAP","IsValueSet":true,"Key":"cvo_admin_password"},{"Description":"Admin password for the storage cluster","IsValueSet":true,"Key":"on-prem-ontap_user_password"}],"VariableType":"SensitiveVariables"}},"Description":"Add Variables","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Sensitive Variables","Name":"TerraformSensitiveVariables","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformAddVariablesOptions","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"Terraform plan for replication between on-prem volume and CVO"},"Description":"Reason for starting the plan","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Reason for starting plan","Name":"ReasonForStartingPlan","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"Disaster Recovery Workflow","Name":"DisasterRecoveryWorkflow","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"NewStorageVolume1","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Create a storage volume with volume name and volume size as inputs. Generates the volume name and volume size as outputs.","InputParameters":{"StorageVendorAggregates":{"PlatformType":"storage.NetAppCluster","StorageAggregates":[{"Aggregate":"aggr1_bb09_a300_1_01"}]},"StorageVendorVirtualMachineName":{"PlatformType":"storage.NetAppCluster","StorageVirtualMachineName":"SVM_CVO_Integration"},"StorageVendorVolumeOptions":"${workflow.input.StorageVendorVolumeOptions}","VolumeCapacity":"${workflow.input.VolumeCapacity}"},"Label":"Create  Volume in FlexPod","Name":"NewStorageVolume1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"AddStorageExportPolicyToVolume1","TaskDefinitionName":"NewStorageVolume","Version":3},{"CatalogMoid":"shared","Description":"Add an export policy to a volume with storage virtual machine name, volume name, export policy name as the inputs. On successful execution volume name and export policy added are generated as outputs.","InputParameters":{"ExportPolicyName":"SVM_Local_Volumes_ONTAP-Export-Policy","StorageVendorVirtualMachineName":{"PlatformType":"storage.NetAppCluster","StorageVirtualMachineName":"SVM_CVO_Integration"},"VolumeName":"${NewStorageVolume1.output.VolumeName}"},"Label":"Add Storage Export Policy","Name":"AddStorageExportPolicyToVolume1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"NewHypervisorDatastore1","TaskDefinitionName":"AddStorageExportPolicyToVolume","Version":1},{"CatalogMoid":"shared","Description":"Create a new datastore on selected hypervisor. Requires datacenter, cluster (or host), and datastore. For VMFS, the canonical disk name, and VMFS version inputs are needed. For NFS, remote server and mount path, and NFS version are needed. On successful execution, the datastore name, disk name, VMFS version, and datacenter name are generated as outputs.","InputParameters":{"Cluster":"${workflow.input.Cluster}","Datacenter":"${workflow.input.Datacenter}","Datastore":"${workflow.input.Datastore}","DatastoreVersion":"${workflow.input.DatastoreVersion}","Host":"bb09-esxi-1.flexpod.cisco.com"},"Label":"Map volume to Datastore","Name":"NewHypervisorDatastore1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"AddTerraformWorkspace1","TaskDefinitionName":"NewHypervisorDatastore","Version":1},{"CatalogMoid":"shared","Description":"Adds variables to a Terraform Workspace","InputParameters":{"AddVariablesOptions":"${workflow.input.TerraformVariables}","TerraformOrganizationName":"cisco-intersight-tme","TerraformWorkspaceName":"${AddTerraformWorkspace1.output.WorkspaceName}"},"Label":"Add Terraform Variables","Name":"AddTerraformVariables1","ObjectType":"workflow.SubWorkflowTask","OnFailure":"FailureEndTask","OnSuccess":"AddTerraformVariables2","Version":1,"WorkflowDefinitionName":"AddTerraformVariables"},{"CatalogMoid":"shared","Description":"Adds variables to a Terraform Workspace","InputParameters":{"AddVariablesOptions":"${workflow.input.TerraformSensitiveVariables}","TerraformOrganizationName":"cisco-intersight-tme","TerraformWorkspaceName":"${AddTerraformWorkspace1.output.WorkspaceName}"},"Label":"Add Terraform Sensitive Variables","Name":"AddTerraformVariables2","ObjectType":"workflow.SubWorkflowTask","OnFailure":"FailureEndTask","OnSuccess":"StartNewTerraformPlan1","Version":1,"WorkflowDefinitionName":"AddTerraformVariables"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Starts a new plan or destroys a plan in the given Terraform Workspace","InputParameters":{"PlanOperation":"false","ReasonForStartingPlan":"${workflow.input.ReasonForStartingPlan}","WorkspaceId":"${AddTerraformWorkspace1.output.WorkspaceId}"},"Label":"Start New Terraform Plan","Name":"StartNewTerraformPlan1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"InvokeSleepTask1","TaskDefinitionName":"StartNewTerraformPlan","Version":1},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":60},"Label":"Synchronize","Name":"InvokeSleepTask1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"ConfirmTerraformRun1","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"Executing terraform apply run","InputParameters":{"RunId":"${StartNewTerraformPlan1.output.RunId}"},"Label":"Confirm and Apply Terraform Run","Name":"ConfirmTerraformRun1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"ConfirmTerraformRun","Version":1},{"CatalogMoid":"shared","Description":"Creating a Terraform Workspace","InputParameters":{"AddWorkspaceOptions":{"VCSRepo":{"AutomaticSpeculativePlans":false,"IncludeSubmodulesOnClone":false,"OauthTokenId":"ot-bZ9FGTtk1M5j6EJ7","RepositoryName":"pkoppa/cvo_snapmirror"},"WorkspaceType":"VCSWorkspace"},"ApplyMethod":"false","ExecutionMode":{"ExecutionMode":"remote"},"TerraformOrganizationName":"cisco-intersight-tme","UserInterface":"false","WorkspaceDescription":"${workflow.input.WorkspaceDescription}","WorkspaceName":"${workflow.input.WorkspaceName}"},"Label":"Add Terraform Workspace","Name":"AddTerraformWorkspace1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"AddTerraformVariables1","TaskDefinitionName":"AddTerraformWorkspace","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":398.56518856707936,"Y":27.179264391941224},{"Name":"SuccessEndTask","X":398.56518856707936,"Y":999.1792643919414},{"Name":"FailureEndTask","X":541.5651885670792,"Y":999.1792643919414},{"Name":"NewStorageVolume1","X":313.5651885670793,"Y":111.6792643919414},{"Name":"AddStorageExportPolicyToVolume1","X":313.5651885670793,"Y":210.67926439194127},{"Name":"NewHypervisorDatastore1","X":313.70466363420496,"Y":319.55504555290355},{"Name":"AddTerraformVariables1","X":313.5651885670793,"Y":507.6792643919407},{"Name":"AddTerraformVariables2","X":313.89496693298616,"Y":604.2174102976549},{"Name":"StartNewTerraformPlan1","X":313.63074479570184,"Y":703.3824576111865},{"Name":"InvokeSleepTask1","X":313.5651885670793,"Y":804.6792643919404},{"Name":"ConfirmTerraformRun1","X":313.5651885670793,"Y":903.6792643919405},{"Name":"AddTerraformWorkspace1","X":313.2624194017138,"Y":413.6005325991085}]},"Version":2},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.ErrorResponseHandler","Name":"NetAppApiErrorResponseHandler","ObjectType":"workflow.ErrorResponseHandler","Parameters":[{"AcceptSingleValue":true,"ComplexType":"Error","ItemType":"complex","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Type":"collection"}],"PlatformType":"NetAppActiveIqUnifiedManager","SharedScope":"shared","Types":[{"Name":"Error","ObjectType":"content.ComplexType","Parameters":[{"ItemType":"simple","Name":"Msg","ObjectType":"content.Parameter","Path":"$.error.message","Type":"simple"},{"ItemType":"simple","Name":"ErrorCode","ObjectType":"content.Parameter","Path":"$.error.code","Type":"simple"}]}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/ErrorResponseHandlers","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create a new FlashArray volume.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageVolume\" and Version eq 1"},"Label":"New FlashArray Volume","Name":"NewFlashArrayVolume","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq PureStorageFlashArray"}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume size and unit.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Capacity","Name":"VolumeCapacity","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageCapacityType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Size","Name":"VolumeSize","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":20,"Min":2,"ObjectType":"workflow.Constraints","Regex":"[0-9]{1,19}[bkmgtpBKMGTP]"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":1,"RetryDelay":100,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.PureStorageFlashArray","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"This is a task to add an export policy to an existing NetApp volume","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddStorageExportPolicyToVolume\" and Version eq 1"},"Label":"Add NetApp Export Policy to Volume","Name":"AddNetAppExportPolicyToVolume","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"VolumeName can be between 1 and 254 characters long depending on the device target selected it may vary, name should start with an alphabetic letter (A through Z or a through z). The remaining characters should be A through Z, a through z, 0 through 9, or special characters \"_\"","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppVolumes?$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppExportPolicies?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove a VMFS datastore from Vmware hypervisor.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveHypervisorDatastore\" and Version eq 1"},"Label":"Remove Hypervisor Datastore","Name":"RemoveHypervisorDatastoreImpl","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter associated with the datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which the datastore is hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the datastore is hosted. If cluster is specified, then host will be ignored.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the datastore to be removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the datastore that was removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Disk associated with the datastore that was removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Disk name","Name":"NAAId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN number of the datastore that was removed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Number","Name":"LUNNumber","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":1,"RetryDelay":100,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":180,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create a new VMFS/NFS Datastore on Vmware hypervisor.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewHypervisorDatastore\" and Version eq 1"},"Label":"New Hypervisor Datastore","Name":"NewHypervisorDatastoreVmwareImpl","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter associated with the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which the datastore will be hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the datastore will be hosted. If cluster is specified, then host will be ignored.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name for the new datastore, limited to 42 characters.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^.{1,42}$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type and version of the new datastore. Minimum datastore size: VMFS 5 - 1.3GB, VMFS 6 - 2GB. Kerberos support is enabled in NFS4.1 only.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Type of Datastore","Name":"DatastoreVersion","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreVersionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the newly created datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter associated with the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VMFS Version","Name":"VMFSVersion","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Type of the new datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore Type","Name":"DatastoreType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which the datastore will be hosted.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the datastore will be hosted. If cluster is specified, then host will be ignored.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Disk identity of the newly created datastore.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Disk","Name":"Disk","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":1,"RetryDelay":100,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":300,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetTerraformWorkspaceDetails","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetTerraformWorkspaceDetails.output.HttpStatusCode 404}}","Message":"The \"{{.global.task.input.TerraformOrganizationName}} / {{.global.task.input.TerraformWorkspaceName}}\" Terraform Organisation Workspace names are not in the system. Try again by providing the right names.","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{ne .global.GetTerraformWorkspaceDetails.output.HttpStatusCode 200}}","Message":"We are unable to fetch the Workspace details due to an unexpected error. Do try again. \"{{.global.GetTerraformWorkspaceDetails.output.HttpStatusMsg}}.\"","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{eq .global.GetTerraformWorkspaceDetails.output.HttpStatusCode 200}}","Message":"The Workspace ID in use is \"{{.global.GetTerraformWorkspaceDetails.output.WorkspaceId}}\".","ObjectType":"workflow.Outcome","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceId","ObjectType":"content.Parameter","Path":"$.data.id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceAutoApply","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"auto-apply\"]","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"AgentPoolId","ObjectType":"content.Parameter","Path":"$[\"data\"][\"relationships\"][\"agent-pool\"][\"data\"][\"id\"]","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExecutionMode","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"execution-mode\"]","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"UserInterface","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"structured-run-output-enabled\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/organizations/{{.global.task.input.TerraformOrganizationName}}/workspaces/{{.global.task.input.TerraformWorkspaceName}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetAgentPoolName","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetAgentPoolName.output.HttpStatusCode 200}}","Message":"We are unable to fetch the name of agent with ID \"{{.global.GetTerraformWorkspaceDetails.output.AgentPoolId}}\".","Name":"FetchingAgentPoolNameFailure","Type":"Error"},{"Condition":"{{eq .global.GetAgentPoolName.output.HttpStatusCode 200}}","Message":"The Workspace ID in use is \"{{.global.GetTerraformWorkspaceDetails.output.WorkspaceId}}\" and the agent pool in use is \"{{index .global.GetAgentPoolName.output.AgentPoolName 0}}\".","Name":"FetchingAgentPoolNameSuccess","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"AgentPoolName","ObjectType":"content.Parameter","Path":"$[\"Results\"][?(@[\"Identity\"]==\"{{.global.GetTerraformWorkspaceDetails.output.AgentPoolId}}\")][\"Name\"]","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ if index .global.GetTerraformWorkspaceDetails.output \"AgentPoolId\"}} false {{else}} true {{end}}","TargetType":"Local","Url":"/v1/cloud/TfcAgentpools"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch workspace Id","Name":"GetTerraformWorkspaceDetails","ObjectType":"workflow.BatchApiExecutor","Output":{"AgentPoolId":"{{.global.GetTerraformWorkspaceDetails.output.AgentPoolId}}","AgentPoolName":"{{index .global.GetAgentPoolName.output.AgentPoolName 0}}","ApplyMethod":"{{ if eq .global.GetTerraformWorkspaceDetails.output.WorkspaceAutoApply true }} Auto apply {{else}} Manual apply {{end}}","ExecutionMode":"{{.global.GetTerraformWorkspaceDetails.output.ExecutionMode}}","OrganizationName":"{{.global.task.input.TerraformOrganizationName}}","UserInterface":"{{ if eq .global.GetTerraformWorkspaceDetails.output.UserInterface true }} Structured Run Output {{else}} Console UI {{end}}","WorkspaceAutoApply":"{{.global.GetTerraformWorkspaceDetails.output.WorkspaceAutoApply}}","WorkspaceId":"{{.global.GetTerraformWorkspaceDetails.output.WorkspaceId}}","WorkspaceName":"{{.global.task.input.TerraformWorkspaceName}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetTerraformWorkspaceDetails\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetTerraformVariableId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetTerraformVariableId.output.HttpStatusCode 200}}","Message":"We could not fetch the variable ID for \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\" due to an unexpected error. Do try again. \"{{.global.GetTerraformVariableId.output.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .global.GetTerraformVariableId.output.VariableId}}true{{else}}false{{end}}","Message":"We could not fetch the variable ID for \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\". Try again by providing the right Variable Name.","Name":"InvalidVariableName","Type":"Error"},{"Condition":"true","Message":"The Variable ID \"{{index .global.GetTerraformVariableId.output.VariableId 0}}\" is in use with the key \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\".","Name":"VariableExists","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VariableId","ObjectType":"content.Parameter","Path":"$[\"data\"][?(@.attributes.key==\"{{- if index .global.task.input.TerraformAddVariable `Key` -}}{{ .global.task.input.TerraformAddVariable.Key | TrimSpace}}{{- end -}}\")][\"id\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"},{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"DELETE","Name":"DeleteTerraformVariableId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.DeleteTerraformVariableId.output.HttpStatusCode 404}}","Message":"We are unable to delete the variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\". Try again by providing the right Variable Id.","Name":"VariableDoesNotExist","Type":"Error"},{"Condition":"{{ne .global.DeleteTerraformVariableId.output.HttpStatusCode 204}}","Message":"We are unable to delete the variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\" due to an unexpected error. Do try again. \"{{.global.DeleteTerraformVariableId.output.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"true","Message":"Variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\" is deleted","Name":"VariableExists","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/vars/{{index .global.GetTerraformVariableId.output.VariableId 0}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch a Terraform Variable","Name":"RemoveTerraformVariable","ObjectType":"workflow.BatchApiExecutor","Output":{"VariableId":"{{index .global.GetTerraformVariableId.output.VariableId 0}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveTerraformVariable\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{\"data\":{\"type\":\"vars\",\"attributes\":{\"key\":\"{{if index .global.task.input.TerraformAddVariable `Key`}}{{.global.task.input.TerraformAddVariable.Key | TrimSpace}}{{end}}\",\"value\":\"{{if index .global.task.input.TerraformAddVariable `Value`}}{{.global.task.input.TerraformAddVariable.Value | TrimSpace}}{{end}}\",\"description\":\"{{if index .global.task.input.TerraformAddVariable `Description`}}{{.global.task.input.TerraformAddVariable.Description | TrimSpace}}{{end}}\",\"category\":\"terraform\",\"hcl\":false,\"sensitive\":false},\"relationships\":{\"workspace\":{\"data\":{\"id\":\"{{.global.task.input.WorkspaceId}}\",\"type\":\"workspaces\"}}}}}","ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"AddTerraformVariable","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.AddTerraformVariable.output.HttpStatusCode 422}}","Message":"The variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{end}}\" was not added. \"{{.global.AddTerraformVariable.output.detail}}.\" Try again by providing the right variable name.","Name":"AddVariableFailure","Type":"Error"},{"Condition":"{{eq .global.AddTerraformVariable.output.HttpStatusCode 201}}","Message":"The variable \"{{.global.task.input.TerraformAddVariable.Key}}\" is added.","Name":"AddVariableSuccess","Type":"Success"},{"Condition":"{{ne .global.AddTerraformVariable.output.HttpStatusCode  201}}","Message":"This variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\" was not added due to an unexpected error. Do try again. \"{{.global.AddTerraformVariable.output.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"detail","ObjectType":"content.Parameter","Path":"$.errors[0].detail","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to add a Terraform Variable","Name":"AddTerraformVariable","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddTerraformVariable\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetTerraformVariableId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetTerraformVariableId.output.HttpStatusCode 200}}","Message":"We could not fetch the variable ID for \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\" due to an unexpected error. Do try again. \"{{.global.GetTerraformVariableId.output.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .global.GetTerraformVariableId.output.VariableId}}true{{else}}false{{end}}","Message":"We could not fetch the variable ID for \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\". Try again by providing the right Variable Name.","Name":"InvalidVariableName","Type":"Error"},{"Condition":"true","Message":"The Variable ID \"{{index .global.GetTerraformVariableId.output.VariableId 0}}\" is in use with the key \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\".","Name":"VariableExists","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VariableId","ObjectType":"content.Parameter","Path":"$[\"data\"][?(@.attributes.key==\"{{- if index .global.task.input.TerraformAddSensitiveVariable `Key` -}}{{ .global.task.input.TerraformAddSensitiveVariable.Key | TrimSpace}}{{- end -}}\")][\"id\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"},{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"DELETE","Name":"DeleteTerraformVariableId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.DeleteTerraformVariableId.output.HttpStatusCode 404}}","Message":"We are unable to delete the variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\". Try again by providing the right Variable Id.","Name":"VariableDoesNotExist","Type":"Error"},{"Condition":"{{ne .global.DeleteTerraformVariableId.output.HttpStatusCode 204}}","Message":"We are unable to delete the variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\" due to an unexpected error. Do try again. \"{{.global.DeleteTerraformVariableId.output.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"true","Message":"Variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\" is deleted","Name":"VariableDeleted","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/vars/{{index .global.GetTerraformVariableId.output.VariableId 0}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch a Terraform Variable","Name":"RemoveTerraformSensitiveVariable","ObjectType":"workflow.BatchApiExecutor","Output":{"VariableId":"{{index .global.GetTerraformVariableId.output.VariableId 0}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveTerraformSensitiveVariable\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{\"data\":{\"type\":\"vars\",\"attributes\":{\"key\":\"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{.global.task.input.TerraformAddSensitiveVariable.Key | TrimSpace}}{{end}}\",\"value\":\"{{if index .global.task.input.TerraformAddSensitiveVariable `Value`}}{{.global.task.input.TerraformAddSensitiveVariable.Value | TrimSpace}}{{end}}\",\"description\":\"{{if index .global.task.input.TerraformAddSensitiveVariable `Description`}}{{.global.task.input.TerraformAddSensitiveVariable.Description | TrimSpace}}{{end}}\",\"category\":\"terraform\",\"hcl\":false,\"sensitive\":true},\"relationships\":{\"workspace\":{\"data\":{\"id\":\"{{.global.task.input.WorkspaceId}}\",\"type\":\"workspaces\"}}}}}","ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"AddTerraformSensitiveVariable","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.AddTerraformSensitiveVariable.output.HttpStatusCode 422}}","Message":"The variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{end}}\" was not added. \"{{.global.AddTerraformSensitiveVariable.output.detail}}.\" Try again by providing the right variable name.","Name":"AddSensitiveVariableFailure","Type":"Error"},{"Condition":"{{eq .global.AddTerraformSensitiveVariable.output.HttpStatusCode 201}}","Message":"The variable \"{{.global.task.input.TerraformAddSensitiveVariable.Key}}\" is added.","Name":"AddSensitiveVariableSuccess","Type":"Success"},{"Condition":"{{ne .global.AddTerraformSensitiveVariable.output.HttpStatusCode  201}}","Message":"This variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\" was not added due to an unexpected error. Do try again. \"{{.global.AddTerraformSensitiveVariable.output.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"detail","ObjectType":"content.Parameter","Path":"$.errors[0].detail","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to add a sensitive Terraform Variable","Name":"AddTerraformSensitiveVariable","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddTerraformSensitiveVariable\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{\"data\":{\"attributes\":{\"comment\":null, {{if index .global.task.input `ReasonForStartingPlan`}} \"message\":\"{{.global.task.input.ReasonForStartingPlan}}\"{{else}} \"message\":\"Triggered via Cisco Intersight Orchestrator\"{{end}},{{if index .global.task.input `PlanOperation`}} \"is-destroy\":\"{{.global.task.input.PlanOperation}}\" {{else}} \"is-destroy\": false {{end}}},\"relationships\":{\"workspace\":{\"data\":{\"type\":\"workspaces\",\"id\":\"{{.global.task.input.WorkspaceId}}\"}}},\"type\":\"runs\"}}","ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"StartNewTerraformPlan","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.StartNewTerraformPlan.output.HttpStatusCode 422}}","Message":"We are unable to start a plan for the Workspace \"{{ .global.task.input.WorkspaceId }}\". \"{{ .global.StartNewTerraformPlan.output.detail }}.\" Do try again by uploading a configuration version.","Name":"ConfigDoesNotExist","Type":"Error"},{"Condition":"{{eq .global.StartNewTerraformPlan.output.HttpStatusCode 404}}","Message":"Either the Workspace ID is wrong or has not been provided. Do try again by providing the right Workspace ID.","Name":"WorkspaceIdEmpty","Type":"Error"},{"Condition":"{{ne .global.StartNewTerraformPlan.output.HttpStatusCode  201}}","Message":"We are unable to start a plan for the Workspace \"{{ .global.task.input.WorkspaceId }}\" due to an unexpected error. Do try again. \"{{ .global.StartNewTerraformPlan.output.HttpStatusMsg }}.\"","Name":"AnyOtherFailure","Type":"Error"},{"Condition":"{{eq .global.StartNewTerraformPlan.output.HttpStatusCode 201}}","Message":"Started new plan for the Workspace \"{{ .global.task.input.WorkspaceId }}\".","Name":"ConfigUploaded","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"RunId","ObjectType":"content.Parameter","Path":"$.data.id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"detail","ObjectType":"content.Parameter","Path":"$.errors[0].detail","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/runs"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to start a new plan","Name":"StartNewTerraformPlan","ObjectType":"workflow.BatchApiExecutor","Output":{"RunId":"{{.global.StartNewTerraformPlan.output.RunId}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"StartNewTerraformPlan\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"ConfirmTerraformRun","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.ConfirmTerraformRun.output.HttpStatusCode  409}}","Message":"We could not confirm the Run ID \"{{.global.task.input.RunId | TrimSpace}}\" for this workspace. Do try again by providing a Run ID that is in one of \"Planned\" / \"Cost Estimated\" / \"Policy Checked\" state.","Name":"RunIdDoesNotHaveIsConfirmableTrue","Type":"Error"},{"Condition":"{{eq .global.ConfirmTerraformRun.output.HttpStatusCode  404}}","Message":"The Run ID \"{{.global.task.input.RunId | TrimSpace}}\" is invalid. Do try again by providing the correct Run ID.","Name":"RunIdDoesNotExist","Type":"Error"},{"Condition":"{{ne .global.ConfirmTerraformRun.output.HttpStatusCode  202}}","Message":"We are unable to confirm the run due to an unexpected error. Do try again. \"{{ .global.ConfirmTerraformRun.output.HttpStatusMsg }}.\"","Name":"AnyOtherFailure","Type":"Error"},{"Condition":"{{eq .global.ConfirmTerraformRun.output.HttpStatusCode 202}}","Message":"The Run ID \"{{.global.task.input.RunId | TrimSpace}}\" is confirmed and will be applied.","Name":"ConfirmRunSubmitted","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/runs/{{ if index .global.task.input `RunId` }}{{.global.task.input.RunId | TrimSpace}}{{end}}/actions/apply"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to confirm the run and execute terrafom apply","Name":"ConfirmTerraformRun","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"ConfirmTerraformRun\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"DELETE","Name":"RemoveTerraformWorkspace","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveTerraformWorkspace.output.HttpStatusCode 404}}","Message":"The \"{{.global.task.input.TerraformOrganizationName}} / {{.global.task.input.TerraformWorkspaceName}}\" Terraform Organisation Workspace names are not in the system. Try again by providing the right names.","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{ne .global.RemoveTerraformWorkspace.output.HttpStatusCode 200}}","Message":"We are unable to delete the Workspace {{ if index .global.task.input `TerraformWorkspaceName` }}{{.global.task.input.TerraformWorkspaceName | TrimSpace}}{{end}} due to an unexpected error. Do try again. \"{{.global.RemoveTerraformWorkspace.output.HttpStatusMsg}}.\"","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{eq .global.RemoveTerraformWorkspace.output.HttpStatusCode 200}}","Message":"The Workspace {{ if index .global.task.input `TerraformWorkspaceName` }}{{.global.task.input.TerraformWorkspaceName | TrimSpace}}{{end}} is deleted successfully.","ObjectType":"workflow.Outcome","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/organizations/{{ if index .global.task.input `TerraformOrganizationName` }}{{.global.task.input.TerraformOrganizationName | TrimSpace}}{{end}}/workspaces/{{ if index .global.task.input `TerraformWorkspaceName` }}{{.global.task.input.TerraformWorkspaceName | TrimSpace}}{{end}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to delete the Terraform Workspace","Name":"RemoveTerraformWorkspace","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveTerraformWorkspace\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetAgentPoolName","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetAgentPoolName.output.HttpStatusCode 200}}","Message":"We are unable to fetch the name of agent with ID \"{{.global.task.input.ExecutionMode.AgentPool}}\".","Name":"FetchingAgentPoolNameFailure","Type":"Error"},{"Condition":"{{eq .global.GetAgentPoolName.output.HttpStatusCode 200}}","Message":"The agent pool \"{{index .global.GetAgentPoolName.output.AgentPoolName 0}}\" is in use.","Name":"FetchingAgentPoolNameSuccess","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"AgentPoolName","ObjectType":"content.Parameter","Path":"$[\"Results\"][?(@[\"Identity\"]==\"{{.global.task.input.ExecutionMode.AgentPool}}\")][\"Name\"]","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if index .global.task.input \"ExecutionMode\"}} {{if eq .global.task.input.ExecutionMode.ExecutionMode \"agent\"}}  false {{else}} true {{end}} {{else}} true {{end}}","TargetType":"Local","Url":"/v1/cloud/TfcAgentpools"},{"Body":"{\n  \"data\": {\n    \"attributes\": {\n      \"name\": \"{{.global.task.input.WorkspaceName | TrimSpace }}\",\n      {{ if index .global.task.input \"ShareStateGlobally\"}} \"global-remote-state\": \"{{.global.task.input.ShareStateGlobally}}\" {{else}} \"global-remote-state\": false {{end}},\n      {{ if index .global.task.input \"ApplyMethod\"}} {{ if index .global.task.input \"ExecutionMode\"}} {{ if eq .global.task.input.ExecutionMode.ExecutionMode \"local\" }}  \"auto-apply\": \"false\"  {{else}} \"auto-apply\": \"{{.global.task.input.ApplyMethod }}\" {{end}} {{else}} \"auto-apply\": \"{{.global.task.input.ApplyMethod }}\" {{end}} {{else}} \"auto-apply\": \"false\" {{end}},\n      {{ if index .global.task.input \"WorkspaceDescription\"}} \"description\": \"{{.global.task.input.WorkspaceDescription}}\" {{else}} \"description\": \"Workspace created using Cisco Intersight Orchestrator\" {{end}},\n      \"environment\": \"default\",\n      {{ if index .global.task.input \"ExecutionMode\" }} \"execution-mode\": \"{{.global.task.input.ExecutionMode.ExecutionMode}}\" {{else}} \"execution-mode\": \"remote\" {{end}},\n      {{ if index .global.task.input \"ExecutionMode\" }} {{ if index .global.task.input.ExecutionMode \"AgentPool\"}} \"agent-pool-id\": \"{{.global.task.input.ExecutionMode.AgentPool}}\", {{end}} {{end}}\n      {{ if index .global.task.input.AddWorkspaceOptions \"VCSRepo\"}} \"vcs-repo\": {\n        \"identifier\": \"{{.global.task.input.AddWorkspaceOptions.VCSRepo.RepositoryName | TrimSpace }}\",\n        \"oauth-token-id\": \"{{.global.task.input.AddWorkspaceOptions.VCSRepo.OauthTokenId | TrimSpace }}\",\n        {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo \"VCSBranch\" }} \"branch\": \"{{.global.task.input.AddWorkspaceOptions.VCSRepo.VCSBranch | TrimSpace }}\" {{else}} \"branch\": \"\" {{end}},\n        {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo \"IncludeSubmodulesOnClone\" }} \"ingress-submodules\": \"{{.global.task.input.AddWorkspaceOptions.VCSRepo.IncludeSubmodulesOnClone }}\" {{else}} \"ingress-submodules\": false {{end}}\n      }{{else}} \"vcs-repo\": null {{end}},\n      \"terraform-version\": null,\n      \"allow-destroy-plan\": true,\n      \"auto-destroy-at\": null,\n      {{ if index .global.task.input.AddWorkspaceOptions \"VCSRepo\"}}\n      {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo \"TerraformWorkingDirectory\" }} {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo \"AutomaticRunTriggering\" }} {{ if eq .global.task.input.AddWorkspaceOptions.VCSRepo.AutomaticRunTriggering.AutomaticRunTriggering \"AlwaysTriggerRuns\" }} \"file-triggers-enabled\": false {{else}} \"file-triggers-enabled\": true {{end}} {{else}} \"file-triggers-enabled\": true {{end}} {{else}} \"file-triggers-enabled\": false {{end}},\n      {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo \"AutomaticSpeculativePlans\" }} \"speculative-enabled\": \"{{.global.task.input.AddWorkspaceOptions.VCSRepo.AutomaticSpeculativePlans }}\" {{else}} \"speculative-enabled\": false {{end}},\n      {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo \"TerraformWorkingDirectory\"}} \"working-directory\": \"{{.global.task.input.AddWorkspaceOptions.VCSRepo.TerraformWorkingDirectory | TrimSpace }}\" {{else}} \"working-directory\": \"\" {{end}},\n      {{ if and (index .global.task.input.AddWorkspaceOptions.VCSRepo \"TerraformWorkingDirectory\") (index .global.task.input.AddWorkspaceOptions.VCSRepo \"AutomaticRunTriggering\") }} {{ if index .global.task.input.AddWorkspaceOptions.VCSRepo.AutomaticRunTriggering \"TriggerForSpecificPaths\"}} \"trigger-prefixes\": {{.global.task.input.AddWorkspaceOptions.VCSRepo.AutomaticRunTriggering.TriggerForSpecificPaths | ToJson }} {{else}} \"trigger-prefixes\": [] {{end}}, {{end}}\n      {{end}}\n      {{ if index .global.task.input \"ApplyMethod\"}} {{ if index .global.task.input \"ExecutionMode\"}} {{ if eq .global.task.input.ExecutionMode.ExecutionMode \"local\" }}  \"structured-run-output-enabled\": \"true\"  {{else}} \"structured-run-output-enabled\": \"{{.global.task.input.UserInterface }}\" {{end}} {{else}} \"structured-run-output-enabled\":\"{{.global.task.input.UserInterface }}\" {{end}} {{else}} \"structured-run-output-enabled\": \"true\" {{end}}\n    },\n    \"relationships\": {\n      \"organization\": {\n        \"data\": {\n          \"type\": \"organizations\",\n          \"id\": \"{{.global.task.input.TerraformOrganizationName}}\"\n        }\n      }\n    },\n    \"type\": \"workspaces\"\n  }\n}","ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"AddTerraformWorkspace","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.AddTerraformWorkspace.output.HttpStatusCode 404}}","Message":"We are unable to create the Workspace \"{{.global.task.input.WorkspaceName}}\". Check the Organisation Name and try again.","Name":"OrganisationDoesNotExist","Type":"Error"},{"Condition":"{{ and (eq .global.AddTerraformWorkspace.output.HttpStatusCode 422) (ContainsString .global.AddTerraformWorkspace.output.detail \"Agent pool not found\")}}","Message":"We are unable to create the Workspace \"{{.global.task.input.WorkspaceName}}\". Agent pool with ID \"{{.global.task.input.ExecutionMode.AgentPool}}\" is not found, or you are not authorized to use it. Do try again by providing the right inputs.","Name":"FailureWith422ForAgentPoolIssue","Type":"Error"},{"Condition":"{{eq .global.AddTerraformWorkspace.output.HttpStatusCode 422}}","Message":"We are unable to create the Workspace \"{{.global.task.input.WorkspaceName}}\". \"{{.global.AddTerraformWorkspace.output.detail}}.\" Do try again by providing the right inputs.","Name":"FailureWith422","Type":"Error"},{"Condition":"{{eq .global.AddTerraformWorkspace.output.HttpStatusCode 500}}","Message":"We are unable to create the Workspace \"{{.global.task.input.WorkspaceName}}\". Please ensure that the OAuth token belongs to the selected Organization \"{{.global.task.input.TerraformOrganizationName}}\".","Name":"MismatchBetweenOauthAndOrg","Type":"Error"},{"Condition":"{{ne .global.AddTerraformWorkspace.output.HttpStatusCode 201}}","Message":"We are unable to create the Workspace \"{{.global.task.input.WorkspaceName}}\" due to an unexpected error. Do try again. \"{{.global.AddTerraformWorkspace.output.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"},{"Condition":"{{eq .global.AddTerraformWorkspace.output.HttpStatusCode 201}}","Message":"The Workspace \"{{.global.task.input.WorkspaceName}}\" is created.","Name":"WorkspaceSuccess","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceId","ObjectType":"content.Parameter","Path":"$.data.id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"detail","ObjectType":"content.Parameter","Path":"$.errors[0].detail","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"api/v2/organizations/{{.global.task.input.TerraformOrganizationName}}/workspaces"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetWorkspaceDetails","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetWorkspaceDetails.output.HttpStatusCode 200}}","Message":"We are unable to fetch the details of the Workspace with ID \"{{ .global.AddTerraformWorkspace.output.WorkspaceId }}\" due to an unexpected error.","Name":"GetWorkspaceDetailsFailure","Type":"Error"},{"Condition":"{{eq .global.GetWorkspaceDetails.output.HttpStatusCode 200}}","Message":"The Workspace \"{{.global.task.input.WorkspaceName}}\" is created.","Name":"GetWorkspaceDetailsSuccess","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExecutionMode","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"execution-mode\"]","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceAutoApply","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"auto-apply\"]","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"StructuredRunOutputEnabled","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"structured-run-output-enabled\"]","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ if index .global.AddTerraformWorkspace.output \"WorkspaceId\" }} false {{else}} true {{end}}","TargetType":"Endpoint","Url":"api/v2/organizations/{{.global.task.input.TerraformOrganizationName}}/workspaces/{{.global.task.input.WorkspaceName}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Creating a Workspace","Name":"AddTerraformWorkspace","ObjectType":"workflow.BatchApiExecutor","Output":{"AgentPoolId":"{{.global.task.input.ExecutionMode.AgentPool}}","AgentPoolName":"{{index .global.GetAgentPoolName.output.AgentPoolName 0}}","ApplyMethod":"{{ if eq .global.GetWorkspaceDetails.output.WorkspaceAutoApply true }} Auto apply {{else}} Manual apply {{end}}","ExecutionMode":"{{.global.GetWorkspaceDetails.output.ExecutionMode}}","OrganizationName":"{{.global.task.input.TerraformOrganizationName}}","UserInterface":"{{ if eq .global.GetWorkspaceDetails.output.StructuredRunOutputEnabled true }} Structured Run Output {{else}} Console UI {{end}}","WorkspaceId":"{{.global.AddTerraformWorkspace.output.WorkspaceId}}","WorkspaceName":"{{.global.task.input.WorkspaceName}}","WorkspaceWorkflowType":"{{.global.task.input.AddWorkspaceOptions.WorkspaceType}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddTerraformWorkspace\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{\"size\": \"{{.global.task.input.VolumeCapacity.VolumeSize}}{{.global.task.input.VolumeCapacity.VolumeUnit}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewFlashArrayVolume","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{and (ge .global.NewFlashArrayVolume.output.HttpStatusCode 400) (lt .global.NewFlashArrayVolume.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.NewFlashArrayVolume.output.Errors}}{{$err := (index .global.NewFlashArrayVolume.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.Ctx}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewFlashArrayVolume.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Volume created successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[{"AcceptSingleValue":true,"ComplexType":"Error","ItemType":"complex","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Type":"collection"}],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeSize","ObjectType":"content.Parameter","Path":"$.size","Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeName","ObjectType":"content.Parameter","Path":"$.name","Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NaaId","ObjectType":"content.Parameter","Path":"$.serial","Type":"simple"}],"Types":[{"Name":"Error","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Ctx","ObjectType":"content.Parameter","Path":"$.ctx","Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Msg","ObjectType":"content.Parameter","Path":"$.msg","Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ErrorCode","ObjectType":"content.Parameter","Path":"$.pure_err_code","Type":"simple"}]}]},"TargetType":"Endpoint","Url":"/volume/{{.global.task.input.VolumeName}}"},{"Body":"{\"Type\":\"storage.PureVolume\",\"NamingProperty\":\"Name\",\"Values\": [\"{{.global.task.input.VolumeName}}\"],\"RegisteredDevice\":\"{{.global.task.input.StorageDevice.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"true","Message":"Volume created successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/task/PureScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":"null"},"Description":"New FlashArray volume","Name":"NewFlashArrayVolume","ObjectType":"workflow.BatchApiExecutor","Output":{"VolumeId":"624a9370{{.global.NewFlashArrayVolume.output.NaaId}}","VolumeName":"{{.global.NewFlashArrayVolume.output.VolumeName}}","VolumeSize":"{{.global.task.input.VolumeCapacity.VolumeSize}}{{.global.task.input.VolumeCapacity.VolumeUnit}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewFlashArrayVolume\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppExportPolicy","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppExportPolicy.output.HttpStatusCode 400)  (lt .global.GetNetAppExportPolicy.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppExportPolicy.output.Errors}}{{$err := (index .global.GetNetAppExportPolicy.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppExportPolicy.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ and (eq .global.GetNetAppExportPolicy.output.HttpStatusCode 200) (not .global.GetNetAppExportPolicy.output.ExportPolicyName) }}","Error":true,"Message":"the export policy named '{{ .global.task.input.ExportPolicyName}}' is not present on  the SVM named '{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}', and cannot be applied to its volumes","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.GetNetAppExportPolicy.output.HttpStatusCode 200)}}","Message":"Export Policy retrieved successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyId","ObjectType":"content.Parameter","Path":"$.records[0].id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NumberOfRecord","ObjectType":"content.Parameter","Path":"$.num_records","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/protocols/nfs/export-policies?name={{.global.task.input.ExportPolicyName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppVolumeDetails","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppVolumeDetails.output.HttpStatusCode 400) (lt .global.GetNetAppVolumeDetails.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppVolumeDetails.output.Errors}}{{$err := (index .global.GetNetAppVolumeDetails.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppVolumeDetails.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ and (eq .global.GetNetAppVolumeDetails.output.HttpStatusCode 200) (not .global.GetNetAppVolumeDetails.output.VolumeUuid) }}","Error":true,"Message":"the volume named '{{ .global.task.input.VolumeName}}' is not present on the SVM named '{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}'","ObjectType":"workflow.Outcome"},{"Condition":"{{ (eq .global.GetNetAppVolumeDetails.output.HttpStatusCode 200) }}","Message":"Retrieved NAS Volume successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeUuid","ObjectType":"content.Parameter","Path":"$.records[0].uuid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NumberOfRecord","ObjectType":"content.Parameter","Path":"$.num_records","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/storage/volumes?name={{.global.task.input.VolumeName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"Body":"{\"nas\": {\"export_policy\": {\"name\": \"{{.global.GetNetAppExportPolicy.output.ExportPolicyName}}\"}}}","ContentType":"json","EndpointRequestType":"Internal","Method":"PATCH","Name":"AddExportPolicyVolume","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.AddExportPolicyVolume.output.HttpStatusCode 400) (lt .global.AddExportPolicyVolume.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.AddExportPolicyVolume.output.Errors}}{{$err := (index .global.AddExportPolicyVolume.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.AddExportPolicyVolume.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.AddExportPolicyVolume.output.HttpStatusCode 200)}}","Message":"Export Policy added successfully to the Volume.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Test","ObjectType":"content.Parameter","Path":"$","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/storage/volumes?name={{.global.task.input.VolumeName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"Body":"{\"Type\":\"storage.NetAppVolume\",\"Queries\": [{\"Uuid\": \"{{.global.GetNetAppVolumeDetails.output.VolumeUuid}}\", \"Key\":\"{{.global.GetClusterUuid.output.Uuid}}:type=volume,uuid={{.global.GetNetAppVolumeDetails.output.VolumeUuid}}\", \"ClusterUuid\": \"{{.global.GetClusterUuid.output.Uuid}}\"}], \"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Export Policy added successfully to the Volume","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"Add NetApp Export Policy to Volume","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"AddNetAppExportPolicyToVolume","ObjectType":"workflow.BatchApiExecutor","Output":{"ExportPolicyName":"{{.global.task.input.ExportPolicyName}}","VolumeName":"{{.global.task.input.VolumeName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddNetAppExportPolicyToVolume\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{ \"Datastore\":\"{{.global.task.input.Datastore}}\",  \"Cluster\":{{ if .global.task.input.Cluster}}\"{{.global.task.input.Cluster}}\",{{else}}\"\",{{end}}   \"Host\":{{ if .global.task.input.Host}}\"{{.global.task.input.Host}}\",{{else}}\"\",{{end}}  \"Datacenter\":\"{{.global.task.input.Datacenter}}\" }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"RemoveHypervisorDatastoreImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.RemoveHypervisorDatastoreImpl.output.HttpStatusCode 200)}}","Error":true,"Message":"Failed to remove datastore. Message: {{.global.RemoveHypervisorDatastoreImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Datastore '{{.global.RemoveHypervisorDatastoreImpl.output.DatastoreName}}' removed successfully","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datastore","ObjectType":"content.Parameter","Path":"$.Datastore","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreName","ObjectType":"content.Parameter","Path":"$.DatastoreName","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NAAId","ObjectType":"content.Parameter","Path":"$.NAAId","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"LUNNumber","ObjectType":"content.Parameter","Path":"$.LUNNumber","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Timeout":150,"Url":"/task/Execute/RemoveDatastore"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Remove VMFS or NFS datastore from Vmware hypervisor.","Name":"RemoveHypervisorDatastoreImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"Datastore":"{{.global.RemoveHypervisorDatastoreImpl.output.Datastore}}","LUNNumber":"{{.global.RemoveHypervisorDatastoreImpl.output.LUNNumber}}","NAAId":"{{.global.RemoveHypervisorDatastoreImpl.output.NAAId}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveHypervisorDatastoreImpl\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{ \"Datacenter\":\"{{.global.task.input.Datacenter}}\",\"Datastore\":\"{{.global.task.input.Datastore}}\",\"Disk\":{{ if .global.task.input.DatastoreVersion.Disk}}\"{{.global.task.input.DatastoreVersion.Disk}}\",{{else}}\"\",{{end}} \"Cluster\":{{ if .global.task.input.Cluster}}\"{{.global.task.input.Cluster}}\",{{else}}\"\",{{end}}   \"Host\":{{ if .global.task.input.Host}}\"{{.global.task.input.Host}}\",{{else}}\"\",{{end}} \"VMFSVersion\":\"{{.global.task.input.DatastoreVersion.VMFSVersion}}\", \"DatastoreType\":\"{{.global.task.input.DatastoreVersion.VMFSVersion}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewHypervisorDatastoreVmwareImplVMFS","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.NewHypervisorDatastoreVmwareImplVMFS.output.HttpStatusCode 200)}}","Error":true,"Message":"Failed to create datastore. Message: {{.global.NewHypervisorDatastoreVmwareImplVMFS.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Datastore '{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.DatastoreName}}' created successfully","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datastore","ObjectType":"content.Parameter","Path":"$.Datastore","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datacenter","ObjectType":"content.Parameter","Path":"$.Datacenter","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMFSVersion","ObjectType":"content.Parameter","Path":"$.VMFSVersion","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreType","ObjectType":"content.Parameter","Path":"$.DatastoreType","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Disk","ObjectType":"content.Parameter","Path":"$.Disk","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Host","ObjectType":"content.Parameter","Path":"$.Host","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Cluster","ObjectType":"content.Parameter","Path":"$.Cluster","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreName","ObjectType":"content.Parameter","Path":"$.DatastoreName","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{and (ne .global.task.input.DatastoreVersion.VMFSVersion \"VMFS6\")  (ne .global.task.input.DatastoreVersion.VMFSVersion \"VMFS5\") }}","TargetType":"Endpoint","Timeout":270,"Url":"/task/Execute/NewVmfsDatastore"},{"Body":"{ \"Datacenter\":\"{{.global.task.input.Datacenter}}\",\"Datastore\":\"{{.global.task.input.Datastore}}\",\"Cluster\":{{ if .global.task.input.Cluster}}\"{{.global.task.input.Cluster}}\",{{else}}\"\",{{end}}   \"Host\":{{ if .global.task.input.Host}}\"{{.global.task.input.Host}}\",{{else}}\"\",{{end}} \"VMFSVersion\":\"{{.global.task.input.DatastoreVersion.VMFSVersion}}\", \"DatastoreType\":\"{{.global.task.input.DatastoreVersion.VMFSVersion}}\",\"RemotePath\":{{if .global.task.input.DatastoreVersion.RemotePath}}\"{{.global.task.input.DatastoreVersion.RemotePath}}\", {{else}} \"\",{{end}} \"RemoteHostNames\":{{.global.task.input.DatastoreVersion.RemoteHostNames | ToJson}}, \"AccessMode\":{{if .global.task.input.DatastoreVersion.AccessMode}}\"{{.global.task.input.DatastoreVersion.AccessMode}}\" {{else}}\"\"{{end}} }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewHypervisorDatastoreVmwareImplNFS","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.NewHypervisorDatastoreVmwareImplNFS.output.HttpStatusCode 200)}}","Error":true,"Message":"{{.global.NewHypervisorDatastoreVmwareImplNFS.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Datastore '{{.global.NewHypervisorDatastoreVmwareImplNFS.output.DatastoreName}}' created successfully","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datastore","ObjectType":"content.Parameter","Path":"$.Datastore","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datacenter","ObjectType":"content.Parameter","Path":"$.Datacenter","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMFSVersion","ObjectType":"content.Parameter","Path":"$.VMFSVersion","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreType","ObjectType":"content.Parameter","Path":"$.DatastoreType","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Disk","ObjectType":"content.Parameter","Path":"$.Disk","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Host","ObjectType":"content.Parameter","Path":"$.Host","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreName","ObjectType":"content.Parameter","Path":"$.DatastoreName","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Cluster","ObjectType":"content.Parameter","Path":"$.Cluster","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ne .global.task.input.DatastoreVersion.VMFSVersion \"NFS\"}}","TargetType":"Endpoint","Timeout":270,"Url":"/task/Execute/NewVmfsDatastore"},{"Body":"{ \"Datacenter\":\"{{.global.task.input.Datacenter}}\",\"Datastore\":\"{{.global.task.input.Datastore}}\",\"Cluster\":{{ if .global.task.input.Cluster}}\"{{.global.task.input.Cluster}}\",{{else}}\"\",{{end}}   \"Host\":{{ if .global.task.input.Host}}\"{{.global.task.input.Host}}\",{{else}}\"\",{{end}} \"VMFSVersion\":\"{{.global.task.input.DatastoreVersion.VMFSVersion}}\", \"DatastoreType\":\"{{.global.task.input.DatastoreVersion.VMFSVersion}}\",\"RemotePath\":{{if .global.task.input.DatastoreVersion.RemotePath}}\"{{.global.task.input.DatastoreVersion.RemotePath}}\", {{else}} \"\",{{end}} \"RemoteHostNames\":{{.global.task.input.DatastoreVersion.RemoteHostNames | ToJson}}, \"AccessMode\":{{if .global.task.input.DatastoreVersion.AccessMode}}\"{{.global.task.input.DatastoreVersion.AccessMode}}\", {{else}}\"\",{{end}} \"SecurityType\":{{if .global.task.input.DatastoreVersion.SecurityType}}\"{{.global.task.input.DatastoreVersion.SecurityType}}\" {{else}} \"\"{{end}} }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewHypervisorDatastoreVmwareImplNFS41","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.NewHypervisorDatastoreVmwareImplNFS41.output.HttpStatusCode 200)}}","Error":true,"Message":"{{.global.NewHypervisorDatastoreVmwareImplNFS41.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Datastore '{{.global.NewHypervisorDatastoreVmwareImplNFS41.output.DatastoreName}}' created successfully","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datastore","ObjectType":"content.Parameter","Path":"$.Datastore","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datacenter","ObjectType":"content.Parameter","Path":"$.Datacenter","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMFSVersion","ObjectType":"content.Parameter","Path":"$.VMFSVersion","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreType","ObjectType":"content.Parameter","Path":"$.DatastoreType","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Disk","ObjectType":"content.Parameter","Path":"$.Disk","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Host","ObjectType":"content.Parameter","Path":"$.Host","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Cluster","ObjectType":"content.Parameter","Path":"$.Cluster","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"DatastoreName","ObjectType":"content.Parameter","Path":"$.DatastoreName","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ne .global.task.input.DatastoreVersion.VMFSVersion \"NFS41\"}}","TargetType":"Endpoint","Timeout":270,"Url":"/task/Execute/NewVmfsDatastore"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Create a new VMFS/NFS Datastore on Vmware hypervisor.","Name":"NewHypervisorDatastoreVmwareImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"Cluster":"{{if .global.task.input.Cluster}}{{.global.task.input.Cluster}}{{end}}","Datacenter":"{{.global.task.input.Datacenter}}","Datastore":"{{if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS6\"}}{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.Datastore}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS5\"}}{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.Datastore}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"NFS41\"}}{{.global.NewHypervisorDatastoreVmwareImplNFS41.output.Datastore}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"NFS\"}}{{.global.NewHypervisorDatastoreVmwareImplNFS.output.Datastore}}{{end}}","DatastoreType":"{{if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS6\"}}{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.DatastoreType}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS5\"}}{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.DatastoreType}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"NFS41\"}}{{.global.NewHypervisorDatastoreVmwareImplNFS41.output.DatastoreType}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"NFS\"}}{{.global.NewHypervisorDatastoreVmwareImplNFS.output.DatastoreType}}{{end}}","Disk":"{{if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS6\"}}{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.Disk}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS5\"}}{{.global.NewHypervisorDatastoreVmwareImplVMFS.output.Disk}}{{end}}","Host":"{{if .global.task.input.Host}}{{.global.task.input.Host}}{{end}}","VMFSVersion":"{{if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS6\"}}{{.global.task.input.DatastoreVersion.VMFSVersion}}{{else if eq .global.task.input.DatastoreVersion.VMFSVersion \"VMFS5\"}}{{.global.task.input.DatastoreVersion.VMFSVersion}}{{end}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewHypervisorDatastoreVmwareImpl\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]