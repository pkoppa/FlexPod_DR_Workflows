[{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Platforms supported for storage target devices","Label":"Storage Platform Type","Name":"StoragePlatformType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type for storage target device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Storage Platform Type","Name":"StoragePlatformType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Pure FlashArray","ObjectType":"workflow.EnumEntry","Value":"storage.PureArray"},{"Label":"Hitachi Virtual Storage Platform","ObjectType":"workflow.EnumEntry","Value":"storage.HitachiArray"},{"Label":"NetApp Active IQ Unified Manager","ObjectType":"workflow.EnumEntry","Value":"storage.NetAppCluster"},{"Label":"None","ObjectType":"workflow.EnumEntry","Value":"None"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"A network interface consisting of IPv4 address, IPv4 subnet mask, broadcast domain name  and home node name.","Label":"NetApp Network Interface Type","Name":"NetAppNetworkInterfacesType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The network interface name can contain only alphanumeric characters and \".\", \"-\" or \"_\"","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface Name","Name":"InterfaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[.,-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"IPv4 IP address to be configured for the virtual machine’s guest operating system. Leave it blank for DHCP.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface IPv4 IP address","Name":"InterfaceIpv4Address","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"NetApp IPv4 Subnet Mask to be configured for the virtual machine’s guest operating system.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface IPv4 Subnet Mask","Name":"InterfaceIpv4subnetmask","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4SubnetMaskType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Broadcast domain","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Broadcast Domain","Name":"BroadcastDomain","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"HomeNode name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"HomeNode Name","Name":"HomeNodeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"NetApp Virtual Machine Options.","Label":"NetApp Virtual Machine Options","Name":"NetAppVirtualMachineOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"NFS","ObjectType":"workflow.EnumEntry","Value":"nfs"},{"Label":"iSCSI","ObjectType":"workflow.EnumEntry","Value":"iscsi"},{"Label":"FCP","ObjectType":"workflow.EnumEntry","Value":"fcp"},{"Label":"CIFS","ObjectType":"workflow.EnumEntry","Value":"cifs"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of VM protocols","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage VM Protocols","Max":500,"Min":1,"Name":"StorageVmProtocols","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Management Interface Details.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Management Interface Details","Name":"ManagementInterfaceDetails","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"NetAppNetworkInterfacesType","ObjectType":"workflow.CustomDataProperty"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage Vendor Virtual Machine Options.","Label":"Storage Vendor Virtual Machine Options","Name":"StorageVendorVirtualMachineOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["NetAppVirtualMachineOptions","RouteDestinationIpv4Gateway"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Storage device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"NetApp Virtual Machine Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NetApp Virtual Machine Options","Name":"NetAppVirtualMachineOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"NetAppVirtualMachineOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Route Destination IPv4 Gateway.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Route Destination IPv4 Gateway","Max":500,"Min":1,"Name":"RouteDestinationIpv4Gateway","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Storage target device","Label":"Storage Target Datatype","Name":"StorageTargetDataType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage target device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"RegisteredDevice.Moid","ConstraintAttributes":["ObjectType"],"DisplayAttributes":["Name","SvpIp","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq storage.BaseArray)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["storage.PureArray","storage.HitachiArray","storage.NetAppCluster"]}],"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage Vendor Virtual Machine name.","Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["StorageVirtualMachineName"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Storage device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"StorageVirtualMachineName can be between 1 and 47 characters long depending on the device target selected it may vary and with first character being alphanumeric or underscore (_) and containing alphanumeric characters and \".\", \"-\" or \"_\" allowed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":47,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppStorageVms?$orderby=Name&$select=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create a Storage Virtual Machine with Storage Virtual Machine name and list of protocols to be enabled as inputs. Optional parameters for the Management interface include Interface name, Interface IP address, Interface Netmask, Broadcast Domain, location Node name as the inputs. On successful execution Storage Virtual Machine name,  Storage Virtual Machine Root Volume name, Management IP address, Protocols enabled are generated as outputs.","Label":"New Storage Virtual Machine","Name":"NewStorageVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"StorageVirtualMachineName can be between 1 and 47 characters long depending on the device target selected it may vary, and with first character being alphanumeric or underscore (_) and containing alphanumeric characters and \".\", \"-\" or \"_\" allowed","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":47,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine Options","Name":"StorageVendorVirtualMachineOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine Name Root Volume","Name":"StorageVirtualMachineNameRootVolume","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":52,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Management Interface IP Address","Name":"ManagementInterfaceIpAddress","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":52,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"NFS","ObjectType":"workflow.EnumEntry","Value":"nfs"},{"Label":"iSCSI","ObjectType":"workflow.EnumEntry","Value":"iscsi"},{"Label":"FCP","ObjectType":"workflow.EnumEntry","Value":"fcp"},{"Label":"CIFS","ObjectType":"workflow.EnumEntry","Value":"cifs"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of VM protocols","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage VM Protocols","Max":500,"Min":1,"Name":"StorageVmProtocols","ObjectType":"workflow.ArrayDataType"}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"NetApp IP Interface Options.","Label":"NetApp IP Interface Options","Name":"NetAppIpInterfaceOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Location home node is the node to which the LIF returns when the network interface revert command is run","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Location Home Node","Name":"LocationHomeNode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Location home port is the port to which the LIF returns when the network interface revert command is run","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Location Home Port","Name":"LocationHomePort","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Location broadcast domain contains the home port of the logical interface","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Location Broadcast Domain","Name":"LocationBroadcastDomain","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"NFS","ObjectType":"workflow.EnumEntry","Value":"nfs"},{"Label":"iSCSI","ObjectType":"workflow.EnumEntry","Value":"iscsi"},{"Label":"FCP","ObjectType":"workflow.EnumEntry","Value":"fcp"},{"Label":"CIFS","ObjectType":"workflow.EnumEntry","Value":"cifs"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of VM protocols","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage VM Protocols","Max":500,"Min":1,"Name":"StorageVmProtocols","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage Vendor IP Interface Options.","Label":"Storage Vendor IP Interface Options","Name":"StorageVendorIpInterfaceOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["NetAppIpInterfaceOptions"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Storage device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"NetApp IP Interface Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NetApp IP Interface Options","Name":"NetAppIpInterfaceOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"NetAppIpInterfaceOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"An IPv4 address represented in dot decimal notation, such as '192.168.1.6'.","Label":"IPv4 Address","Name":"IpV4AddressType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"An IPv4 address represented in dot decimal notation, such as '192.168.1.6'.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IPv4 Address","Name":"IpV4Address","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"An IPv4 subnet mask represented in dot decimal notation, such as '255.255.255.0'.","Label":"IPv4 Subnet Mask","Name":"IpV4SubnetMaskType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"An IPv4 subnet mask represented in dot decimal notation, such as '255.255.255.0'.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IPv4 Subnet Mask","Name":"IpV4SubnetMaskType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^(((255.){3}(255|254|252|248|240|224|192|128|0))|((255.){2}(255|254|252|248|240|224|192|128|0).0)|((255.)(255|254|252|248|240|224|192|128|0)(.0){2})|((255|254|252|248|240|224|192|128|0+)(.0){3}))$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create a storage IP interface with IP interface name, interface IP address, interface netmask, ipspace name, storage virtual machine name and location properties as the inputs. On successful execution interface name, interface IP address, interface netmask are generated as outputs.","Label":"New Storage IP Interface","Name":"NewStorageIpInterface","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"InterfaceName be between 1 and 254 characters long depending on the device target selected it may vary","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP Interface Name","Name":"IpInterfaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor IP Interface Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor IP Interface Options","Name":"StorageVendorIpInterfaceOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorIpInterfaceOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"IP address for the interface ex. 192.168.17.2","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface IP Address","Name":"InterfaceIpAddress","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Netmask for the interface ex. 255.255.240.0","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface Netmask","Name":"InterfaceNetmask","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4SubnetMaskType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP Interface Name","Name":"IpInterfaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface IP Address","Name":"InterfaceIpAddress","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface Netmask","Name":"InterfaceNetmask","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4SubnetMaskType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove a storage export policy with export policy name  and storage virtual machine name as the inputs. On successful execution name of the export policy removed is generated as output.","Label":"Remove Storage Export Policy","Name":"RemoveStorageExportPolicy","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppExportPolicies?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create a storage export policy with storage virtual machine name, export policy name, Client Match List, Superuser Security Type, list of protocols , list of Read Only export policy rules, list of Read Write export policy rules as the inputs. On successful execution name of the export policy created is generated as output.","Label":"New Storage Export Policy","Name":"NewStorageExportPolicy","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"Any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"NFS3","ObjectType":"workflow.EnumEntry","Value":"nfs3"},{"Label":"NFS4","ObjectType":"workflow.EnumEntry","Value":"nfs4"},{"Label":"NFS","ObjectType":"workflow.EnumEntry","Value":"nfs"},{"Label":"Flexcache","ObjectType":"workflow.EnumEntry","Value":"flexcache"},{"Label":"CIFS","ObjectType":"workflow.EnumEntry","Value":"cifs"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of protocols for which you want to apply the export rule","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy Protocols","Max":500,"Min":1,"Name":"ExportPolicyProtocols","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of the match strings specifying the client or clients to which the export rule applies","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Client Match List","Max":500,"Min":1,"Name":"ClientMatchList","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"sys","ObjectType":"workflow.EnumEntry","Value":"sys"},{"Label":"krb5","ObjectType":"workflow.EnumEntry","Value":"krb5"},{"Label":"krb5i","ObjectType":"workflow.EnumEntry","Value":"krb5i"},{"Label":"krb5p","ObjectType":"workflow.EnumEntry","Value":"krb5p"},{"Label":"ntlm","ObjectType":"workflow.EnumEntry","Value":"ntlm"},{"Label":"any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"none","ObjectType":"workflow.EnumEntry","Value":"none"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Specifies a security type for superuser access to files","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Superuser Security Type","Max":500,"Min":1,"Name":"SuperuserSecurityType","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"sys","ObjectType":"workflow.EnumEntry","Value":"sys"},{"Label":"krb5","ObjectType":"workflow.EnumEntry","Value":"krb5"},{"Label":"krb5i","ObjectType":"workflow.EnumEntry","Value":"krb5i"},{"Label":"krb5p","ObjectType":"workflow.EnumEntry","Value":"krb5p"},{"Label":"ntlm","ObjectType":"workflow.EnumEntry","Value":"ntlm"},{"Label":"any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"none","ObjectType":"workflow.EnumEntry","Value":"none"},{"Label":"never","ObjectType":"workflow.EnumEntry","Value":"never"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of Read Only export policy rules. This specifies the security type for read-only access to volumes that use the export rule","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Read Only Policy Rules","Max":500,"Min":1,"Name":"ReadOnlyPolicyRules","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"sys","ObjectType":"workflow.EnumEntry","Value":"sys"},{"Label":"krb5","ObjectType":"workflow.EnumEntry","Value":"krb5"},{"Label":"krb5i","ObjectType":"workflow.EnumEntry","Value":"krb5i"},{"Label":"krb5p","ObjectType":"workflow.EnumEntry","Value":"krb5p"},{"Label":"ntlm","ObjectType":"workflow.EnumEntry","Value":"ntlm"},{"Label":"any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"none","ObjectType":"workflow.EnumEntry","Value":"none"},{"Label":"never","ObjectType":"workflow.EnumEntry","Value":"never"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of Read Write export policy rules. This specifies the security type for read-write access to volumes that use the export rule","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Read Write Policy Rules","Max":500,"Min":1,"Name":"ReadWritePolicyRules","ObjectType":"workflow.ArrayDataType","Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove Storage Export Policy.","InputParameters":{"ExportPolicyName":"${task.output.ExportPolicyName}","StorageDevice":"${task.input.StorageDevice}","StorageVendorVirtualMachineName":"${task.input.StorageVendorVirtualMachineName}"},"Name":"RemoveStorageExportPolicy","ObjectType":"workflow.RollbackTask","Version":1}],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add an export policy to a volume with storage virtual machine name, volume name, export policy name as the inputs. On successful execution volume name and export policy added are generated as outputs.","Label":"Add Storage Export Policy to Volume","Name":"AddStorageExportPolicyToVolume","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"VolumeName can be between 1 and 254 characters long depending on the device target selected it may vary, name should start with an alphabetic letter (A through Z or a through z). The remaining characters should be A through Z, a through z, 0 through 9, or special characters \"_\"","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppVolumes?$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppExportPolicies?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Workflow to configure FlexPod Storage","InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"StorageVirtualMachineName can be between 1 and 47 characters long depending on the device target selected it may vary, and with first character being alphanumeric or underscore (_) and containing alphanumeric characters and \".\", \"-\" or \"_\" allowed","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":47,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":{"NetAppVirtualMachineOptions":{"ManagementInterfaceDetails":{"BroadcastDomain":"Default","HomeNodeName":"bb09-a300-1-01","InterfaceIpv4Address":"192.168.166.31","InterfaceIpv4subnetmask":"255.255.255.0","InterfaceName":"svm-mgmt"},"StorageVmProtocols":["nfs"]},"PlatformType":"storage.NetAppCluster","RouteDestinationIpv4Gateway":["192.168.166.254"]}},"Description":"Storage Vendor Virtual Machine Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Vendor Virtual Machine Options","Name":"StorageVendorVirtualMachineOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"InputParameterSet":[],"Label":"Configure on-premises FlexPod storage","Name":"ConfigureonpremisesFlexPodstorage","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"NewStorageVirtualMachine1","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Create a Storage Virtual Machine with Storage Virtual Machine name and list of protocols to be enabled as inputs. Optional parameters for the Management interface include Interface name, Interface IP address, Interface Netmask, Broadcast Domain, location Node name as the inputs. On successful execution Storage Virtual Machine name,  Storage Virtual Machine Root Volume name, Management IP address, Protocols enabled are generated as outputs.","InputParameters":{"StorageVendorVirtualMachineOptions":"${workflow.input.StorageVendorVirtualMachineOptions}","StorageVirtualMachineName":"${workflow.input.StorageVirtualMachineName}"},"Label":"New Storage Virtual Machine","Name":"NewStorageVirtualMachine1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"NewStorageIpInterface1","TaskDefinitionName":"NewStorageVirtualMachine","Version":1},{"CatalogMoid":"shared","Description":"Create a storage IP interface with IP interface name, interface IP address, interface netmask, ipspace name, storage virtual machine name and location properties as the inputs. On successful execution interface name, interface IP address, interface netmask are generated as outputs.","InputParameters":{"InterfaceIpAddress":"192.168.55.18","InterfaceNetmask":"255.255.255.0","IpInterfaceName":"nfs-lif-01","StorageVendorIpInterfaceOptions":{"NetAppIpInterfaceOptions":{"LocationBroadcastDomain":"SVM_Local_Volumes_ONTAP-NFS","LocationHomeNode":"bb09-a300-1-01","LocationHomePort":"a0b-3055","StorageVmProtocols":["nfs"]},"PlatformType":"storage.NetAppCluster"},"StorageVendorVirtualMachineName":"${NewStorageVirtualMachine1.output.StorageVirtualMachineName}"},"Label":"Add NFS LIF - 01","Name":"NewStorageIpInterface1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"NewStorageIpInterface2","TaskDefinitionName":"NewStorageIpInterface","Version":1},{"CatalogMoid":"shared","Description":"Create a storage IP interface with IP interface name, interface IP address, interface netmask, ipspace name, storage virtual machine name and location properties as the inputs. On successful execution interface name, interface IP address, interface netmask are generated as outputs.","InputParameters":{"InterfaceIpAddress":"192.168.55.19","InterfaceNetmask":"255.255.255.0","IpInterfaceName":"nfs-lif-02","StorageVendorIpInterfaceOptions":{"NetAppIpInterfaceOptions":{"LocationBroadcastDomain":"SVM_Local_Volumes_ONTAP-NFS","LocationHomeNode":"bb09-a300-1-02","LocationHomePort":"a0b-3055","StorageVmProtocols":["nfs"]},"PlatformType":"storage.NetAppCluster"},"StorageVendorVirtualMachineName":"${NewStorageVirtualMachine1.output.StorageVirtualMachineName}"},"Label":"Add NFS LIF - 02","Name":"NewStorageIpInterface2","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"NewStorageExportPolicy1","TaskDefinitionName":"NewStorageIpInterface","Version":1},{"CatalogMoid":"shared","Description":"Create a storage export policy with storage virtual machine name, export policy name, Client Match List, Superuser Security Type, list of protocols , list of Read Only export policy rules, list of Read Write export policy rules as the inputs. On successful execution name of the export policy created is generated as output.","InputParameters":{"ClientMatchList":["192.168.55.0/24"],"ExportPolicyName":"SVM_Local_Volumes_ONTAP-Export-Policy","ExportPolicyProtocols":["nfs"],"ReadOnlyPolicyRules":["sys"],"ReadWritePolicyRules":["sys"],"StorageVendorVirtualMachineName":"${NewStorageVirtualMachine1.output.StorageVirtualMachineName}","SuperuserSecurityType":["sys"]},"Label":"New Storage Export Policy","Name":"NewStorageExportPolicy1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"AddStorageExportPolicyToVolume1","TaskDefinitionName":"NewStorageExportPolicy","Version":1},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"CatalogMoid":"shared","Description":"Add an export policy to a volume with storage virtual machine name, volume name, export policy name as the inputs. On successful execution volume name and export policy added are generated as outputs.","InputParameters":{"ExportPolicyName":"${NewStorageExportPolicy1.output.ExportPolicyName}","StorageVendorVirtualMachineName":"${NewStorageVirtualMachine1.output.StorageVirtualMachineName}","VolumeName":"${NewStorageVirtualMachine1.output.StorageVirtualMachineNameRootVolume}"},"Label":"Add Storage Export Policy to Volume","Name":"AddStorageExportPolicyToVolume1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"AddStorageExportPolicyToVolume","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":263.5,"Y":40},{"Name":"SuccessEndTask","X":263.5,"Y":612},{"Name":"FailureEndTask","X":406.5,"Y":612},{"Name":"NewStorageVirtualMachine1","X":178.5,"Y":117},{"Name":"NewStorageIpInterface1","X":178.5,"Y":216},{"Name":"NewStorageIpInterface2","X":178.5,"Y":315},{"Name":"NewStorageExportPolicy1","X":178.5,"Y":414},{"Name":"AddStorageExportPolicyToVolume1","X":178.5,"Y":513}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.ErrorResponseHandler","Name":"NetAppApiErrorResponseHandler","ObjectType":"workflow.ErrorResponseHandler","Parameters":[{"AcceptSingleValue":true,"ComplexType":"Error","ItemType":"complex","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Type":"collection"}],"PlatformType":"NetAppActiveIqUnifiedManager","SharedScope":"shared","Types":[{"Name":"Error","ObjectType":"content.ComplexType","Parameters":[{"ItemType":"simple","Name":"Msg","ObjectType":"content.Parameter","Path":"$.error.message","Type":"simple"},{"ItemType":"simple","Name":"ErrorCode","ObjectType":"content.Parameter","Path":"$.error.code","Type":"simple"}]}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/ErrorResponseHandlers","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"This is a task to create a new  NetApp storage virtual machine","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageVirtualMachine\" and Version eq 1"},"Label":"New NetApp Virtual Machine","Name":"NewNetAppVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"StorageVirtualMachineName can be between 1 and 47 characters long depending on the device target selected it may vary, and with first character being alphanumeric or underscore (_) and containing alphanumeric characters and \".\", \"-\" or \"_\" allowed","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":47,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine Options","Name":"StorageVendorVirtualMachineOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine Name Root Volume","Name":"StorageVirtualMachineNameRootVolume","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":52,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Management Interface IP Address","Name":"ManagementInterfaceIpAddress","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":52,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"NFS","ObjectType":"workflow.EnumEntry","Value":"nfs"},{"Label":"iSCSI","ObjectType":"workflow.EnumEntry","Value":"iscsi"},{"Label":"FCP","ObjectType":"workflow.EnumEntry","Value":"fcp"},{"Label":"CIFS","ObjectType":"workflow.EnumEntry","Value":"cifs"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of VM protocols","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage VM Protocols","Max":500,"Min":1,"Name":"StorageVmProtocols","ObjectType":"workflow.ArrayDataType"}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"This is a task to create a new NetApp IP interface","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageIpInterface\" and Version eq 1"},"Label":"New NetApp IP Interface","Name":"NewNetAppIpInterface","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"InterfaceName be between 1 and 254 characters long depending on the device target selected it may vary","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP Interface Name","Name":"IpInterfaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor IP Interface Options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor IP Interface Options","Name":"StorageVendorIpInterfaceOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorIpInterfaceOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"IP address for the interface ex. 192.168.17.2","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface IP Address","Name":"InterfaceIpAddress","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Netmask for the interface ex. 255.255.240.0","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface Netmask","Name":"InterfaceNetmask","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4SubnetMaskType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP Interface Name","Name":"IpInterfaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface IP Address","Name":"InterfaceIpAddress","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Interface Netmask","Name":"InterfaceNetmask","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4SubnetMaskType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"This is a task to remove a NetApp export policy","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveStorageExportPolicy\" and Version eq 1"},"Label":"Remove NetApp Export Policy","Name":"RemoveNetAppExportPolicy","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppExportPolicies?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"This is a task to create a new NetApp export policy","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageExportPolicy\" and Version eq 1"},"Label":"New NetApp Export Policy","Name":"NewNetAppExportPolicy","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"Any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"NFS3","ObjectType":"workflow.EnumEntry","Value":"nfs3"},{"Label":"NFS4","ObjectType":"workflow.EnumEntry","Value":"nfs4"},{"Label":"NFS","ObjectType":"workflow.EnumEntry","Value":"nfs"},{"Label":"Flexcache","ObjectType":"workflow.EnumEntry","Value":"flexcache"},{"Label":"CIFS","ObjectType":"workflow.EnumEntry","Value":"cifs"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of protocols for which you want to apply the export rule","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy Protocols","Max":500,"Min":1,"Name":"ExportPolicyProtocols","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of the match strings specifying the client or clients to which the export rule applies","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Client Match List","Max":500,"Min":1,"Name":"ClientMatchList","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"sys","ObjectType":"workflow.EnumEntry","Value":"sys"},{"Label":"krb5","ObjectType":"workflow.EnumEntry","Value":"krb5"},{"Label":"krb5i","ObjectType":"workflow.EnumEntry","Value":"krb5i"},{"Label":"krb5p","ObjectType":"workflow.EnumEntry","Value":"krb5p"},{"Label":"ntlm","ObjectType":"workflow.EnumEntry","Value":"ntlm"},{"Label":"any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"none","ObjectType":"workflow.EnumEntry","Value":"none"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Specifies a security type for superuser access to files","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Superuser Security Type","Max":500,"Min":1,"Name":"SuperuserSecurityType","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"sys","ObjectType":"workflow.EnumEntry","Value":"sys"},{"Label":"krb5","ObjectType":"workflow.EnumEntry","Value":"krb5"},{"Label":"krb5i","ObjectType":"workflow.EnumEntry","Value":"krb5i"},{"Label":"krb5p","ObjectType":"workflow.EnumEntry","Value":"krb5p"},{"Label":"ntlm","ObjectType":"workflow.EnumEntry","Value":"ntlm"},{"Label":"any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"none","ObjectType":"workflow.EnumEntry","Value":"none"},{"Label":"never","ObjectType":"workflow.EnumEntry","Value":"never"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of Read Only export policy rules. This specifies the security type for read-only access to volumes that use the export rule","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Read Only Policy Rules","Max":500,"Min":1,"Name":"ReadOnlyPolicyRules","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[{"Label":"sys","ObjectType":"workflow.EnumEntry","Value":"sys"},{"Label":"krb5","ObjectType":"workflow.EnumEntry","Value":"krb5"},{"Label":"krb5i","ObjectType":"workflow.EnumEntry","Value":"krb5i"},{"Label":"krb5p","ObjectType":"workflow.EnumEntry","Value":"krb5p"},{"Label":"ntlm","ObjectType":"workflow.EnumEntry","Value":"ntlm"},{"Label":"any","ObjectType":"workflow.EnumEntry","Value":"any"},{"Label":"none","ObjectType":"workflow.EnumEntry","Value":"none"},{"Label":"never","ObjectType":"workflow.EnumEntry","Value":"never"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of Read Write export policy rules. This specifies the security type for read-write access to volumes that use the export rule","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Read Write Policy Rules","Max":500,"Min":1,"Name":"ReadWritePolicyRules","ObjectType":"workflow.ArrayDataType","Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"This is a task to add an export policy to an existing NetApp volume","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddStorageExportPolicyToVolume\" and Version eq 1"},"Label":"Add NetApp Export Policy to Volume","Name":"AddNetAppExportPolicyToVolume","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage Vendor Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"VolumeName can be between 1 and 254 characters long depending on the device target selected it may vary, name should start with an alphabetic letter (A through Z or a through z). The remaining characters should be A through Z, a through z, 0 through 9, or special characters \"_\"","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppVolumes?$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ExportPolicyName can be between 1 and 254 characters long depending on the device target selected it may vary.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppExportPolicies?$apply=groupby((Name),aggregate($count as count))&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[A-z][_A-z0-9]*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Export Policy","Name":"ExportPolicyName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"RetryCount":5,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}"},{"Body":"{ {{range $svmProtocol := .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.StorageVmProtocols}} \"{{$svmProtocol}}\": {\"enabled\": \"true\"},  {{end}} \"name\": \"{{.global.task.input.StorageVirtualMachineName}}\", \"ip_interfaces\": [{{if index .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions \"ManagementInterfaceDetails\"}} {{if index .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails \"InterfaceName\"}} { \"name\": \"{{.global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails.InterfaceName}}\" {{if index .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails \"InterfaceIpv4Address\"}} , \"ip\": {\"address\": \"{{.global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails.InterfaceIpv4Address}}\" {{if index .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails \"InterfaceIpv4subnetmask\"}}, \"netmask\": \"{{.global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails.InterfaceIpv4subnetmask}}\" {{end}}{{/* ipv4addr */}}},\"location\": { \"broadcast_domain\": {\"name\": \"{{if index .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails \"BroadcastDomain\"}}{{.global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails.BroadcastDomain}}{{end}}{{/* bcastdomain */}}\" },\"home_node\": {\"name\": \"{{if index .global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails \"HomeNodeName\"}}{{.global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.ManagementInterfaceDetails.HomeNodeName}}{{end}}{{/* homenode */}}\" }} ,\"service_policy\": \"default-management\"} {{else}} {{/* ipv4addr */}}}{{end}} {{/* ipv4addr */}}{{else}} {{/* interfacename */}}{ \"name\": \"\" }{{end}}  {{/* interfacename */}}{{end}}], \"routes\": [ {{if index .global.task.input.StorageVendorVirtualMachineOptions \"RouteDestinationIpv4Gateway\"}} {{range $index, $route := .global.task.input.StorageVendorVirtualMachineOptions.RouteDestinationIpv4Gateway}} {{if $index}},{{end}} {\"gateway\": \"{{$route}}\"} {{end}} {{end}} ]}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewStorageVM","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.NewStorageVM.output.HttpStatusCode 400) (lt .global.NewStorageVM.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.NewStorageVM.output.Errors}}{{$err := (index .global.NewStorageVM.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewStorageVM.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ (eq .global.NewStorageVM.output.HttpStatusCode 202) }}","Message":"Job ID created successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"JobUuid","ObjectType":"content.Parameter","Path":"$.job.uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/svm/svms"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetJobDetail","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetJobDetail.output.HttpStatusCode 400) (lt .global.GetJobDetail.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetJobDetail.output.Errors}}{{$err := (index .global.GetJobDetail.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetJobDetail.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.GetJobDetail.output.JobState \"failure\" }}","Error":true,"Message":"HTTP Status code: {{.global.GetJobDetail.output.HttpStatusCode}}: {{if .global.GetJobDetail.output.JobMessage}} Job state: {{.global.GetJobDetail.output.JobState}} Message: {{.global.GetJobDetail.output.JobMessage}} CompletedTime: {{.global.GetJobDetail.output.CompletedTime}} {{ else }} Job status is \"Failed\"{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.GetJobDetail.output.JobState \"paused\" }}","Error":true,"Message":"HTTP Status code: {{.global.GetJobDetail.output.HttpStatusCode}}: {{if .global.GetJobDetail.output.JobMessage}} Job state: {{.global.GetJobDetail.output.JobState}} Message: {{.global.GetJobDetail.output.JobMessage}} CompletedTime: {{.global.GetJobDetail.output.CompletedTime}} {{ else }} Job status is \"Paused\"{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.GetJobDetail.output.JobState \"queued\" }}","Error":false,"Message":"HTTP Status code: {{.global.GetJobDetail.output.HttpStatusCode}}: {{if .global.GetJobDetail.output.JobMessage}} Job state: {{.global.GetJobDetail.output.JobState}} Message: {{.global.GetJobDetail.output.JobMessage}} CompletedTime: {{.global.GetJobDetail.output.CompletedTime}} {{ else }} Job status is \"Queued\"{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.GetJobDetail.output.JobState \"running\" }}","Error":false,"Message":"HTTP Status code: {{.global.GetJobDetail.output.HttpStatusCode}}: {{if .global.GetJobDetail.output.JobMessage}} Job state: {{.global.GetJobDetail.output.JobState}} Message: {{.global.GetJobDetail.output.JobMessage}} CompletedTime: {{.global.GetJobDetail.output.CompletedTime}} {{ else }} Job status is \"Running\"{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.GetJobDetail.output.JobState \"success\" }}","Message":"Received Job status successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"JobState","ObjectType":"content.Parameter","Path":"$.state","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"CompletedTime","ObjectType":"content.Parameter","Path":"$.end_time","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"JobMessage","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"}],"Types":[]},"StartDelay":45,"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/cluster/jobs/{{.global.NewStorageVM.output.JobUuid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppStorageVmDetails","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppStorageVmDetails.output.HttpStatusCode 400) (lt .global.GetNetAppStorageVmDetails.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppStorageVmDetails.output.Errors}}{{$err := (index .global.GetNetAppStorageVmDetails.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppStorageVmDetails.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ (eq .global.GetNetAppStorageVmDetails.output.HttpStatusCode 200) }}","Message":"Created SVM successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"StorageVirtualMachineName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"SvmUuid","ObjectType":"content.Parameter","Path":"$.records[0].uuid","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ ContainsString .global.GetJobDetail.output.JobState \"failure\" }}","TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/svm/svms?name={{.global.task.input.StorageVirtualMachineName}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppStorageVmDetailsByUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppStorageVmDetailsByUuid.output.HttpStatusCode 400) (lt .global.GetNetAppStorageVmDetailsByUuid.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppStorageVmDetailsByUuid.output.Errors}}{{$err := (index .global.GetNetAppStorageVmDetailsByUuid.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppStorageVmDetailsByUuid.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ (eq .global.GetNetAppStorageVmDetailsByUuid.output.HttpStatusCode 200) }}","Message":"Retrieved SVM successfully by uuid.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"InterfaceUuid","ObjectType":"content.Parameter","Path":"$.ip_interfaces[0].uuid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ManagementInterfaceIpAddress","ObjectType":"content.Parameter","Path":"$.ip_interfaces[0].ip.address","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ ContainsString .global.GetJobDetail.output.JobState \"failure\" }}","TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/svm/svms/{{.global.GetNetAppStorageVmDetails.output.SvmUuid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppStorageVmRootVolumeDetails","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppStorageVmRootVolumeDetails.output.HttpStatusCode 400) (lt .global.GetNetAppStorageVmRootVolumeDetails.output.HttpStatusCode 600)}}","Message":"{{if .global.GetNetAppStorageVmRootVolumeDetails.output.Errors}}{{$err := (index .global.GetNetAppStorageVmRootVolumeDetails.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppStorageVmRootVolumeDetails.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{ (eq .global.GetNetAppStorageVmRootVolumeDetails.output.HttpStatusCode 200) }}","Message":"Retrieved SVM root volume successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeUuid","ObjectType":"content.Parameter","Path":"$.records[0].uuid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{ ContainsString .global.GetJobDetail.output.JobState \"failure\" }}","TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/storage/volumes?svm.name={{.global.task.input.StorageVirtualMachineName}}&is_svm_root=true"},{"Body":"{\"Type\":\"storage.NetAppStorageVm\",\"Queries\": [{\"Uuid\": \"{{.global.GetNetAppStorageVmDetails.output.SvmUuid}}\", \"Key\":\"{{.global.GetClusterUuid.output.Uuid}}:type=vserver,uuid={{.global.GetNetAppStorageVmDetails.output.SvmUuid}}\"}],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Created Storage VM successfully","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"},{"Body":"{\"Type\":\"storage.NetAppIpInterface\",\"Queries\": [ {\"Uuid\": \"{{.global.GetNetAppStorageVmDetailsByUuid.output.InterfaceUuid}}\", \"ClusterUuid\": \"{{.global.GetClusterUuid.output.Uuid}}\"}], \"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInterfaceInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInterfaceInventory.output.HttpStatusCode 200}}","Message":"Created Storage VM successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInterfaceInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInterfaceInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"},{"Body":"{\"Type\":\"storage.NetAppVolume\",\"Queries\": [{\"Uuid\": \"{{.global.GetNetAppStorageVmRootVolumeDetails.output.VolumeUuid}}\", \"Key\":\"{{.global.GetClusterUuid.output.Uuid}}:type=volume,uuid={{.global.GetNetAppStorageVmRootVolumeDetails.output.VolumeUuid}}\", \"ClusterUuid\": \"{{.global.GetClusterUuid.output.Uuid}}\"}], \"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateVolumeInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateVolumeInventory.output.HttpStatusCode 200}}","Message":"Created Storage VM successfully","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateVolumeInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateVolumeInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"New NetApp Virtual Machine","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"NewNetAppVirtualMachine","ObjectType":"workflow.BatchApiExecutor","Output":{"ManagementInterfaceIpAddress":"{{.global.GetNetAppStorageVmDetailsByUuid.output.ManagementInterfaceIpAddress}}","StorageVirtualMachineName":"{\"StorageVirtualMachineName\":\"{{.global.GetNetAppStorageVmDetails.output.StorageVirtualMachineName}}\", \"PlatformType\":\"storage.NetAppCluster\"}","StorageVirtualMachineNameRootVolume":"{{.global.GetNetAppStorageVmRootVolumeDetails.output.VolumeName}}","StorageVmProtocols":"{{.global.task.input.StorageVendorVirtualMachineOptions.NetAppVirtualMachineOptions.StorageVmProtocols}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewNetAppVirtualMachine\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}"},{"Body":"{\"ip\": {\"address\": \"{{.global.task.input.InterfaceIpAddress}}\", \"netmask\": \"{{.global.task.input.InterfaceNetmask}}\"}, \"name\": \"{{.global.task.input.IpInterfaceName}}\", \"svm\": {\"name\": \"{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}\"}, \"enabled\": true, \"location\": { {{if (index .global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions \"LocationHomeNode\") }} \"home_node\": {\"name\": \"{{.global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions.LocationHomeNode}}\"} {{end}} {{if (index .global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions \"LocationBroadcastDomain\") }} ,\"broadcast_domain\": {\"name\": \"{{.global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions.LocationBroadcastDomain}}\"} {{end}} {{if (index .global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions \"LocationHomePort\") }} ,\"home_port\": {\"name\": \"{{.global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions.LocationHomePort}}\"} {{end}}} {{if index .global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions \"StorageVmProtocols\"}} {{range $svmProtocol := .global.task.input.StorageVendorIpInterfaceOptions.NetAppIpInterfaceOptions.StorageVmProtocols}} {{if (ContainsString $svmProtocol \"nfs\")}} ,\"service_policy\": {\"name\": \"default-data-files\"} {{end}} {{if (ContainsString $svmProtocol \"iscsi\")}} ,\"service_policy\": {\"name\": \"default-data-blocks\"} {{end}} {{end}} {{end}} }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewIpInterface","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.NewIpInterface.output.HttpStatusCode 400) (lt .global.NewIpInterface.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.NewIpInterface.output.Errors}}{{$err := (index .global.NewIpInterface.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewIpInterface.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.NewIpInterface.output.HttpStatusCode 201)}}","Message":"IP interface created successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"IpInterfaceName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"IpInterfaceUuid","ObjectType":"content.Parameter","Path":"$.records[0].uuid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"InterfaceIpAddress","ObjectType":"content.Parameter","Path":"$.records[0].ip.address","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"InterfaceNetmask","ObjectType":"content.Parameter","Path":"$.records[0].ip.netmask","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/network/ip/interfaces?return_records=true"},{"Body":"{\"Type\":\"storage.NetAppIpInterface\",\"Queries\": [{\"Uuid\": \"{{.global.NewIpInterface.output.IpInterfaceUuid}}\", \"ClusterUuid\": \"{{.global.GetClusterUuid.output.Uuid}}\"}],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"IP interface created successfully","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"New NetApp IP Interface","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"NewNetAppIpInterface","ObjectType":"workflow.BatchApiExecutor","Output":{"InterfaceIpAddress":"{{.global.NewIpInterface.output.InterfaceIpAddress}}","InterfaceNetmask":"{{.global.NewIpInterface.output.InterfaceNetmask}}","IpInterfaceName":"{{.global.NewIpInterface.output.IpInterfaceName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewNetAppIpInterface\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppExportPolicy","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppExportPolicy.output.HttpStatusCode 400)  (lt .global.GetNetAppExportPolicy.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppExportPolicy.output.Errors}}{{$err := (index .global.GetNetAppExportPolicy.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppExportPolicy.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.GetNetAppExportPolicy.output.HttpStatusCode 200)}}","Message":"Export Policy retrieved successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyId","ObjectType":"content.Parameter","Path":"$.records[0].id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NumberOfRecord","ObjectType":"content.Parameter","Path":"$.num_records","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/protocols/nfs/export-policies?name={{.global.task.input.ExportPolicyName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveNetAppExportPolicy","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.RemoveNetAppExportPolicy.output.HttpStatusCode 400)  (lt .global.RemoveNetAppExportPolicy.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.RemoveNetAppExportPolicy.output.Errors}}{{$err := (index .global.RemoveNetAppExportPolicy.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.RemoveNetAppExportPolicy.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.RemoveNetAppExportPolicy.output.HttpStatusCode 200)}}","Message":"Export Policy removed successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Test","ObjectType":"content.Parameter","Path":"$","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/protocols/nfs/export-policies/{{Ftoi .global.GetNetAppExportPolicy.output.ExportPolicyId}}"},{"Body":"{\"Type\":\"storage.NetAppExportPolicy\",\"Queries\": [{\"PolicyId\": {{Ftoi .global.GetNetAppExportPolicy.output.ExportPolicyId}},\"Key\":\"{{.global.GetClusterUuid.output.Uuid}}:type=export_policy,uuid={{Ftoi .global.GetNetAppExportPolicy.output.ExportPolicyId}}\"}],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Export Policy removed successfully","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"Remove NetApp Export Policy","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"RemoveNetAppExportPolicy","ObjectType":"workflow.BatchApiExecutor","Output":{"ExportPolicyName":"{{.global.GetNetAppExportPolicy.output.ExportPolicyName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveNetAppExportPolicy\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}"},{"Body":"{\"name\": \"{{.global.task.input.ExportPolicyName}}\", \"rules\": [{\"clients\": [ {{range $index, $client:=.global.task.input.ClientMatchList}} {{if $index}},{{end}} {\"match\": \"{{$client}}\"} {{end}} ], \"superuser\": [{{range $index, $securityType:= .global.task.input.SuperuserSecurityType}} {{if $index}},{{end}}\"{{$securityType}}\" {{end}}], \"protocols\": [{{range $index, $protocols:= .global.task.input.ExportPolicyProtocols}} {{if $index}},{{end}}\"{{$protocols}}\" {{end}}],\"ro_rule\": [{{range $index, $ro_rule:= .global.task.input.ReadOnlyPolicyRules}} {{if $index}},{{end}}\"{{$ro_rule}}\" {{end}}], \"rw_rule\": [{{range $index, $rw_rule:= .global.task.input.ReadWritePolicyRules}} {{if $index}},{{end}}\"{{$rw_rule}}\" {{end}}]}], \"svm\": {\"name\": \"{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}\"}}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewNetAppExportPolicy","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.NewNetAppExportPolicy.output.HttpStatusCode 400) (lt .global.NewNetAppExportPolicy.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.NewNetAppExportPolicy.output.Errors}}{{$err := (index .global.NewNetAppExportPolicy.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewNetAppExportPolicy.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.NewNetAppExportPolicy.output.HttpStatusCode 201)}}","Message":"Export Policy created successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyId","ObjectType":"content.Parameter","Path":"$.records[0].id","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/protocols/nfs/export-policies?return_records=true"},{"Body":"{\"Type\":\"storage.NetAppExportPolicy\",\"Queries\": [{\"PolicyId\": \"{{.global.NewNetAppExportPolicy.output.ExportPolicyId}}\",\"Key\":\"{{.global.GetClusterUuid.output.Uuid}}:type=export_policy,uuid={{Ftoi .global.NewNetAppExportPolicy.output.ExportPolicyId}}\"}],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Export Policy created successfully","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"New NetApp Export Policy","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"NewNetAppExportPolicy","ObjectType":"workflow.BatchApiExecutor","Output":{"ExportPolicyName":"{{.global.NewNetAppExportPolicy.output.ExportPolicyName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewNetAppExportPolicy\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppExportPolicy","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppExportPolicy.output.HttpStatusCode 400)  (lt .global.GetNetAppExportPolicy.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppExportPolicy.output.Errors}}{{$err := (index .global.GetNetAppExportPolicy.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppExportPolicy.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ and (eq .global.GetNetAppExportPolicy.output.HttpStatusCode 200) (not .global.GetNetAppExportPolicy.output.ExportPolicyName) }}","Error":true,"Message":"the export policy named '{{ .global.task.input.ExportPolicyName}}' is not present on  the SVM named '{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}', and cannot be applied to its volumes","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.GetNetAppExportPolicy.output.HttpStatusCode 200)}}","Message":"Export Policy retrieved successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyName","ObjectType":"content.Parameter","Path":"$.records[0].name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ExportPolicyId","ObjectType":"content.Parameter","Path":"$.records[0].id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NumberOfRecord","ObjectType":"content.Parameter","Path":"$.num_records","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/protocols/nfs/export-policies?name={{.global.task.input.ExportPolicyName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetNetAppVolumeDetails","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.GetNetAppVolumeDetails.output.HttpStatusCode 400) (lt .global.GetNetAppVolumeDetails.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.GetNetAppVolumeDetails.output.Errors}}{{$err := (index .global.GetNetAppVolumeDetails.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.GetNetAppVolumeDetails.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ and (eq .global.GetNetAppVolumeDetails.output.HttpStatusCode 200) (not .global.GetNetAppVolumeDetails.output.VolumeUuid) }}","Error":true,"Message":"the volume named '{{ .global.task.input.VolumeName}}' is not present on the SVM named '{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}'","ObjectType":"workflow.Outcome"},{"Condition":"{{ (eq .global.GetNetAppVolumeDetails.output.HttpStatusCode 200) }}","Message":"Retrieved NAS Volume successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeUuid","ObjectType":"content.Parameter","Path":"$.records[0].uuid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NumberOfRecord","ObjectType":"content.Parameter","Path":"$.num_records","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/storage/volumes?name={{.global.task.input.VolumeName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"Body":"{\"nas\": {\"export_policy\": {\"name\": \"{{.global.GetNetAppExportPolicy.output.ExportPolicyName}}\"}}}","ContentType":"json","EndpointRequestType":"Internal","Method":"PATCH","Name":"AddExportPolicyVolume","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.AddExportPolicyVolume.output.HttpStatusCode 400) (lt .global.AddExportPolicyVolume.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.AddExportPolicyVolume.output.Errors}}{{$err := (index .global.AddExportPolicyVolume.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.AddExportPolicyVolume.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.AddExportPolicyVolume.output.HttpStatusCode 200)}}","Message":"Export Policy added successfully to the Volume.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Test","ObjectType":"content.Parameter","Path":"$","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/storage/volumes?name={{.global.task.input.VolumeName}}&svm.name={{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}"},{"Body":"{\"Type\":\"storage.NetAppVolume\",\"Queries\": [{\"Uuid\": \"{{.global.GetNetAppVolumeDetails.output.VolumeUuid}}\", \"Key\":\"{{.global.GetClusterUuid.output.Uuid}}:type=volume,uuid={{.global.GetNetAppVolumeDetails.output.VolumeUuid}}\", \"ClusterUuid\": \"{{.global.GetClusterUuid.output.Uuid}}\"}], \"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Export Policy added successfully to the Volume","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"Add NetApp Export Policy to Volume","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"AddNetAppExportPolicyToVolume","ObjectType":"workflow.BatchApiExecutor","Output":{"ExportPolicyName":"{{.global.task.input.ExportPolicyName}}","VolumeName":"{{.global.task.input.VolumeName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddNetAppExportPolicyToVolume\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]